(function(){"use strict";try{if(typeof document<"u"){var e=document.createElement("style");e.appendChild(document.createTextNode("._dotSvgContainer_64xbd_1{position:absolute;width:100%;height:100%;inset-block-start:0;inset-inline-start:0}._container_1xxyl_1{position:relative;overflow:hidden;width:100%;height:100%}._canvasWrapper_1xxyl_8{position:relative;width:100%;height:100%;overflow:hidden;background-color:var(--kf-color-bg-gray);cursor:grab;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}._canvasWrapper_1xxyl_8._panning_1xxyl_21{cursor:grabbing}._canvas_1xxyl_8{position:relative;z-index:2;width:100%;height:100%}._canvas_1xxyl_8>div:first-of-type{position:absolute;inset-inline-start:0;inset-block-start:0;transition:transform .01s ease}._contentWrapper_1xxyl_39{position:absolute}._verticalScrollBar_17thb_1{position:absolute;inset-inline-end:2px;inset-block-start:0;inset-block-end:0;background:transparent}._horizontalScrollBar_17thb_9{position:absolute;inset-block-end:2px;inset-inline-start:0;inset-inline-end:0;background:transparent}._verticalScrollBar_17thb_1>div,._horizontalScrollBar_17thb_9>div{position:absolute;border-radius:50px;z-index:8;cursor:pointer}._verticalScrollBar_17thb_1>div{width:100%}._horizontalScrollBar_17thb_9>div{height:100%}")),document.head.appendChild(e)}}catch(t){console.error("vite-plugin-css-injected-by-js",t)}})();
(function(dt,z){typeof exports=="object"&&typeof module<"u"?z(exports,require("react")):typeof define=="function"&&define.amd?define(["exports","react"],z):(dt=typeof globalThis<"u"?globalThis:dt||self,z(dt.ReactInfiniteCanvas={},dt.React))})(this,function(dt,z){"use strict";var be={exports:{}},Ft={};/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ke;function nr(){if(Ke)return Ft;Ke=1;var t=z,e=Symbol.for("react.element"),n=Symbol.for("react.fragment"),r=Object.prototype.hasOwnProperty,i=t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,a={key:!0,ref:!0,__self:!0,__source:!0};function o(u,l,f){var c,_={},m=null,x=null;f!==void 0&&(m=""+f),l.key!==void 0&&(m=""+l.key),l.ref!==void 0&&(x=l.ref);for(c in l)r.call(l,c)&&!a.hasOwnProperty(c)&&(_[c]=l[c]);if(u&&u.defaultProps)for(c in l=u.defaultProps,l)_[c]===void 0&&(_[c]=l[c]);return{$$typeof:e,type:u,key:m,ref:x,props:_,_owner:i.current}}return Ft.Fragment=n,Ft.jsx=o,Ft.jsxs=o,Ft}var Yt={};/**
 * @license React
 * react-jsx-runtime.development.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Be;function rr(){return Be||(Be=1,process.env.NODE_ENV!=="production"&&function(){var t=z,e=Symbol.for("react.element"),n=Symbol.for("react.portal"),r=Symbol.for("react.fragment"),i=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),o=Symbol.for("react.provider"),u=Symbol.for("react.context"),l=Symbol.for("react.forward_ref"),f=Symbol.for("react.suspense"),c=Symbol.for("react.suspense_list"),_=Symbol.for("react.memo"),m=Symbol.for("react.lazy"),x=Symbol.for("react.offscreen"),T=Symbol.iterator,R="@@iterator";function I(s){if(s===null||typeof s!="object")return null;var g=T&&s[T]||s[R];return typeof g=="function"?g:null}var b=t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED;function A(s){{for(var g=arguments.length,w=new Array(g>1?g-1:0),C=1;C<g;C++)w[C-1]=arguments[C];W("error",s,w)}}function W(s,g,w){{var C=b.ReactDebugCurrentFrame,k=C.getStackAddendum();k!==""&&(g+="%s",w=w.concat([k]));var U=w.map(function(P){return String(P)});U.unshift("Warning: "+g),Function.prototype.apply.call(console[s],console,U)}}var L=!1,Y=!1,X=!1,D=!1,F=!1,$;$=Symbol.for("react.module.reference");function Q(s){return!!(typeof s=="string"||typeof s=="function"||s===r||s===a||F||s===i||s===f||s===c||D||s===x||L||Y||X||typeof s=="object"&&s!==null&&(s.$$typeof===m||s.$$typeof===_||s.$$typeof===o||s.$$typeof===u||s.$$typeof===l||s.$$typeof===$||s.getModuleId!==void 0))}function ut(s,g,w){var C=s.displayName;if(C)return C;var k=g.displayName||g.name||"";return k!==""?w+"("+k+")":w}function et(s){return s.displayName||"Context"}function rt(s){if(s==null)return null;if(typeof s.tag=="number"&&A("Received an unexpected object in getComponentNameFromType(). This is likely a bug in React. Please file an issue."),typeof s=="function")return s.displayName||s.name||null;if(typeof s=="string")return s;switch(s){case r:return"Fragment";case n:return"Portal";case a:return"Profiler";case i:return"StrictMode";case f:return"Suspense";case c:return"SuspenseList"}if(typeof s=="object")switch(s.$$typeof){case u:var g=s;return et(g)+".Consumer";case o:var w=s;return et(w._context)+".Provider";case l:return ut(s,s.render,"ForwardRef");case _:var C=s.displayName||null;return C!==null?C:rt(s.type)||"Memo";case m:{var k=s,U=k._payload,P=k._init;try{return rt(P(U))}catch{return null}}}return null}var h=Object.assign,v=0,d,p,y,E,S,N,O;function V(){}V.__reactDisabledLog=!0;function H(){{if(v===0){d=console.log,p=console.info,y=console.warn,E=console.error,S=console.group,N=console.groupCollapsed,O=console.groupEnd;var s={configurable:!0,enumerable:!0,value:V,writable:!0};Object.defineProperties(console,{info:s,log:s,warn:s,error:s,group:s,groupCollapsed:s,groupEnd:s})}v++}}function j(){{if(v--,v===0){var s={configurable:!0,enumerable:!0,writable:!0};Object.defineProperties(console,{log:h({},s,{value:d}),info:h({},s,{value:p}),warn:h({},s,{value:y}),error:h({},s,{value:E}),group:h({},s,{value:S}),groupCollapsed:h({},s,{value:N}),groupEnd:h({},s,{value:O})})}v<0&&A("disabledDepth fell below zero. This is a bug in React. Please file an issue.")}}var G=b.ReactCurrentDispatcher,q;function Z(s,g,w){{if(q===void 0)try{throw Error()}catch(k){var C=k.stack.trim().match(/\n( *(at )?)/);q=C&&C[1]||""}return`
`+q+s}}var ct=!1,yt;{var It=typeof WeakMap=="function"?WeakMap:Map;yt=new It}function wt(s,g){if(!s||ct)return"";{var w=yt.get(s);if(w!==void 0)return w}var C;ct=!0;var k=Error.prepareStackTrace;Error.prepareStackTrace=void 0;var U;U=G.current,G.current=null,H();try{if(g){var P=function(){throw Error()};if(Object.defineProperty(P.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(P,[])}catch(Et){C=Et}Reflect.construct(s,[],P)}else{try{P.call()}catch(Et){C=Et}s.call(P.prototype)}}else{try{throw Error()}catch(Et){C=Et}s()}}catch(Et){if(Et&&C&&typeof Et.stack=="string"){for(var M=Et.stack.split(`
`),it=C.stack.split(`
`),K=M.length-1,J=it.length-1;K>=1&&J>=0&&M[K]!==it[J];)J--;for(;K>=1&&J>=0;K--,J--)if(M[K]!==it[J]){if(K!==1||J!==1)do if(K--,J--,J<0||M[K]!==it[J]){var lt=`
`+M[K].replace(" at new "," at ");return s.displayName&&lt.includes("<anonymous>")&&(lt=lt.replace("<anonymous>",s.displayName)),typeof s=="function"&&yt.set(s,lt),lt}while(K>=1&&J>=0);break}}}finally{ct=!1,G.current=U,j(),Error.prepareStackTrace=k}var Lt=s?s.displayName||s.name:"",er=Lt?Z(Lt):"";return typeof s=="function"&&yt.set(s,er),er}function te(s,g,w){return wt(s,!1)}function Pt(s){var g=s.prototype;return!!(g&&g.isReactComponent)}function xt(s,g,w){if(s==null)return"";if(typeof s=="function")return wt(s,Pt(s));if(typeof s=="string")return Z(s);switch(s){case f:return Z("Suspense");case c:return Z("SuspenseList")}if(typeof s=="object")switch(s.$$typeof){case l:return te(s.render);case _:return xt(s.type,g,w);case m:{var C=s,k=C._payload,U=C._init;try{return xt(U(k),g,w)}catch{}}}return""}var bt=Object.prototype.hasOwnProperty,we={},ee=b.ReactDebugCurrentFrame;function Nt(s){if(s){var g=s._owner,w=xt(s.type,s._source,g?g.type:null);ee.setExtraStackFrame(w)}else ee.setExtraStackFrame(null)}function Ve(s,g,w,C,k){{var U=Function.call.bind(bt);for(var P in s)if(U(s,P)){var M=void 0;try{if(typeof s[P]!="function"){var it=Error((C||"React class")+": "+w+" type `"+P+"` is invalid; it must be a function, usually from the `prop-types` package, but received `"+typeof s[P]+"`.This often happens because of typos such as `PropTypes.function` instead of `PropTypes.func`.");throw it.name="Invariant Violation",it}M=s[P](g,P,C,w,null,"SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED")}catch(K){M=K}M&&!(M instanceof Error)&&(Nt(k),A("%s: type specification of %s `%s` is invalid; the type checker function must return `null` or an `Error` but returned a %s. You may have forgotten to pass an argument to the type checker creator (arrayOf, instanceOf, objectOf, oneOf, oneOfType, and shape all require an argument).",C||"React class",w,P,typeof M),Nt(null)),M instanceof Error&&!(M.message in we)&&(we[M.message]=!0,Nt(k),A("Failed %s type: %s",w,M.message),Nt(null))}}}var xe=Array.isArray;function kt(s){return xe(s)}function Ya(s){{var g=typeof Symbol=="function"&&Symbol.toStringTag,w=g&&s[Symbol.toStringTag]||s.constructor.name||"Object";return w}}function Xa(s){try{return $n(s),!1}catch{return!0}}function $n(s){return""+s}function jn(s){if(Xa(s))return A("The provided key is an unsupported type %s. This value must be coerced to a string before before using it here.",Ya(s)),$n(s)}var ne=b.ReactCurrentOwner,Ha={key:!0,ref:!0,__self:!0,__source:!0},Gn,Kn,We;We={};function Ua(s){if(bt.call(s,"ref")){var g=Object.getOwnPropertyDescriptor(s,"ref").get;if(g&&g.isReactWarning)return!1}return s.ref!==void 0}function Va(s){if(bt.call(s,"key")){var g=Object.getOwnPropertyDescriptor(s,"key").get;if(g&&g.isReactWarning)return!1}return s.key!==void 0}function Wa(s,g){if(typeof s.ref=="string"&&ne.current&&g&&ne.current.stateNode!==g){var w=rt(ne.current.type);We[w]||(A('Component "%s" contains the string ref "%s". Support for string refs will be removed in a future major release. This case cannot be automatically converted to an arrow function. We ask you to manually fix this case by using useRef() or createRef() instead. Learn more about using refs safely here: https://reactjs.org/link/strict-mode-string-ref',rt(ne.current.type),s.ref),We[w]=!0)}}function $a(s,g){{var w=function(){Gn||(Gn=!0,A("%s: `key` is not a prop. Trying to access it will result in `undefined` being returned. If you need to access the same value within the child component, you should pass it as a different prop. (https://reactjs.org/link/special-props)",g))};w.isReactWarning=!0,Object.defineProperty(s,"key",{get:w,configurable:!0})}}function ja(s,g){{var w=function(){Kn||(Kn=!0,A("%s: `ref` is not a prop. Trying to access it will result in `undefined` being returned. If you need to access the same value within the child component, you should pass it as a different prop. (https://reactjs.org/link/special-props)",g))};w.isReactWarning=!0,Object.defineProperty(s,"ref",{get:w,configurable:!0})}}var Ga=function(s,g,w,C,k,U,P){var M={$$typeof:e,type:s,key:g,ref:w,props:P,_owner:U};return M._store={},Object.defineProperty(M._store,"validated",{configurable:!1,enumerable:!1,writable:!0,value:!1}),Object.defineProperty(M,"_self",{configurable:!1,enumerable:!1,writable:!1,value:C}),Object.defineProperty(M,"_source",{configurable:!1,enumerable:!1,writable:!1,value:k}),Object.freeze&&(Object.freeze(M.props),Object.freeze(M)),M};function Ka(s,g,w,C,k){{var U,P={},M=null,it=null;w!==void 0&&(jn(w),M=""+w),Va(g)&&(jn(g.key),M=""+g.key),Ua(g)&&(it=g.ref,Wa(g,k));for(U in g)bt.call(g,U)&&!Ha.hasOwnProperty(U)&&(P[U]=g[U]);if(s&&s.defaultProps){var K=s.defaultProps;for(U in K)P[U]===void 0&&(P[U]=K[U])}if(M||it){var J=typeof s=="function"?s.displayName||s.name||"Unknown":s;M&&$a(P,J),it&&ja(P,J)}return Ga(s,M,it,k,C,ne.current,P)}}var $e=b.ReactCurrentOwner,Bn=b.ReactDebugCurrentFrame;function Dt(s){if(s){var g=s._owner,w=xt(s.type,s._source,g?g.type:null);Bn.setExtraStackFrame(w)}else Bn.setExtraStackFrame(null)}var je;je=!1;function Ge(s){return typeof s=="object"&&s!==null&&s.$$typeof===e}function Zn(){{if($e.current){var s=rt($e.current.type);if(s)return`

Check the render method of \``+s+"`."}return""}}function Ba(s){return""}var Jn={};function Za(s){{var g=Zn();if(!g){var w=typeof s=="string"?s:s.displayName||s.name;w&&(g=`

Check the top-level render call using <`+w+">.")}return g}}function qn(s,g){{if(!s._store||s._store.validated||s.key!=null)return;s._store.validated=!0;var w=Za(g);if(Jn[w])return;Jn[w]=!0;var C="";s&&s._owner&&s._owner!==$e.current&&(C=" It was passed a child from "+rt(s._owner.type)+"."),Dt(s),A('Each child in a list should have a unique "key" prop.%s%s See https://reactjs.org/link/warning-keys for more information.',w,C),Dt(null)}}function Qn(s,g){{if(typeof s!="object")return;if(kt(s))for(var w=0;w<s.length;w++){var C=s[w];Ge(C)&&qn(C,g)}else if(Ge(s))s._store&&(s._store.validated=!0);else if(s){var k=I(s);if(typeof k=="function"&&k!==s.entries)for(var U=k.call(s),P;!(P=U.next()).done;)Ge(P.value)&&qn(P.value,g)}}}function Ja(s){{var g=s.type;if(g==null||typeof g=="string")return;var w;if(typeof g=="function")w=g.propTypes;else if(typeof g=="object"&&(g.$$typeof===l||g.$$typeof===_))w=g.propTypes;else return;if(w){var C=rt(g);Ve(w,s.props,"prop",C,s)}else if(g.PropTypes!==void 0&&!je){je=!0;var k=rt(g);A("Component %s declared `PropTypes` instead of `propTypes`. Did you misspell the property assignment?",k||"Unknown")}typeof g.getDefaultProps=="function"&&!g.getDefaultProps.isReactClassApproved&&A("getDefaultProps is only used on classic React.createClass definitions. Use a static property named `defaultProps` instead.")}}function qa(s){{for(var g=Object.keys(s.props),w=0;w<g.length;w++){var C=g[w];if(C!=="children"&&C!=="key"){Dt(s),A("Invalid prop `%s` supplied to `React.Fragment`. React.Fragment can only have `key` and `children` props.",C),Dt(null);break}}s.ref!==null&&(Dt(s),A("Invalid attribute `ref` supplied to `React.Fragment`."),Dt(null))}}function tr(s,g,w,C,k,U){{var P=Q(s);if(!P){var M="";(s===void 0||typeof s=="object"&&s!==null&&Object.keys(s).length===0)&&(M+=" You likely forgot to export your component from the file it's defined in, or you might have mixed up default and named imports.");var it=Ba();it?M+=it:M+=Zn();var K;s===null?K="null":kt(s)?K="array":s!==void 0&&s.$$typeof===e?(K="<"+(rt(s.type)||"Unknown")+" />",M=" Did you accidentally export a JSX literal instead of a component?"):K=typeof s,A("React.jsx: type is invalid -- expected a string (for built-in components) or a class/function (for composite components) but got: %s.%s",K,M)}var J=Ka(s,g,w,k,U);if(J==null)return J;if(P){var lt=g.children;if(lt!==void 0)if(C)if(kt(lt)){for(var Lt=0;Lt<lt.length;Lt++)Qn(lt[Lt],s);Object.freeze&&Object.freeze(lt)}else A("React.jsx: Static children should always be an array. You are likely explicitly calling React.jsxs or React.jsxDEV. Use the Babel transform instead.");else Qn(lt,s)}return s===r?qa(J):Ja(J),J}}function Qa(s,g,w){return tr(s,g,w,!0)}function ts(s,g,w){return tr(s,g,w,!1)}var es=ts,ns=Qa;Yt.Fragment=r,Yt.jsx=es,Yt.jsxs=ns}()),Yt}process.env.NODE_ENV==="production"?be.exports=nr():be.exports=rr();var B=be.exports,Ee="http://www.w3.org/1999/xhtml";const Ze={svg:"http://www.w3.org/2000/svg",xhtml:Ee,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function re(t){var e=t+="",n=e.indexOf(":");return n>=0&&(e=t.slice(0,n))!=="xmlns"&&(t=t.slice(n+1)),Ze.hasOwnProperty(e)?{space:Ze[e],local:t}:t}function ir(t){return function(){var e=this.ownerDocument,n=this.namespaceURI;return n===Ee&&e.documentElement.namespaceURI===Ee?e.createElement(t):e.createElementNS(n,t)}}function or(t){return function(){return this.ownerDocument.createElementNS(t.space,t.local)}}function Je(t){var e=re(t);return(e.local?or:ir)(e)}function ar(){}function Se(t){return t==null?ar:function(){return this.querySelector(t)}}function sr(t){typeof t!="function"&&(t=Se(t));for(var e=this._groups,n=e.length,r=new Array(n),i=0;i<n;++i)for(var a=e[i],o=a.length,u=r[i]=new Array(o),l,f,c=0;c<o;++c)(l=a[c])&&(f=t.call(l,l.__data__,c,a))&&("__data__"in l&&(f.__data__=l.__data__),u[c]=f);return new at(r,this._parents)}function ur(t){return t==null?[]:Array.isArray(t)?t:Array.from(t)}function cr(){return[]}function qe(t){return t==null?cr:function(){return this.querySelectorAll(t)}}function lr(t){return function(){return ur(t.apply(this,arguments))}}function fr(t){typeof t=="function"?t=lr(t):t=qe(t);for(var e=this._groups,n=e.length,r=[],i=[],a=0;a<n;++a)for(var o=e[a],u=o.length,l,f=0;f<u;++f)(l=o[f])&&(r.push(t.call(l,l.__data__,f,o)),i.push(l));return new at(r,i)}function Qe(t){return function(){return this.matches(t)}}function tn(t){return function(e){return e.matches(t)}}var hr=Array.prototype.find;function dr(t){return function(){return hr.call(this.children,t)}}function pr(){return this.firstElementChild}function _r(t){return this.select(t==null?pr:dr(typeof t=="function"?t:tn(t)))}var gr=Array.prototype.filter;function vr(){return Array.from(this.children)}function mr(t){return function(){return gr.call(this.children,t)}}function yr(t){return this.selectAll(t==null?vr:mr(typeof t=="function"?t:tn(t)))}function wr(t){typeof t!="function"&&(t=Qe(t));for(var e=this._groups,n=e.length,r=new Array(n),i=0;i<n;++i)for(var a=e[i],o=a.length,u=r[i]=[],l,f=0;f<o;++f)(l=a[f])&&t.call(l,l.__data__,f,a)&&u.push(l);return new at(r,this._parents)}function en(t){return new Array(t.length)}function xr(){return new at(this._enter||this._groups.map(en),this._parents)}function ie(t,e){this.ownerDocument=t.ownerDocument,this.namespaceURI=t.namespaceURI,this._next=null,this._parent=t,this.__data__=e}ie.prototype={constructor:ie,appendChild:function(t){return this._parent.insertBefore(t,this._next)},insertBefore:function(t,e){return this._parent.insertBefore(t,e)},querySelector:function(t){return this._parent.querySelector(t)},querySelectorAll:function(t){return this._parent.querySelectorAll(t)}};function br(t){return function(){return t}}function Er(t,e,n,r,i,a){for(var o=0,u,l=e.length,f=a.length;o<f;++o)(u=e[o])?(u.__data__=a[o],r[o]=u):n[o]=new ie(t,a[o]);for(;o<l;++o)(u=e[o])&&(i[o]=u)}function Sr(t,e,n,r,i,a,o){var u,l,f=new Map,c=e.length,_=a.length,m=new Array(c),x;for(u=0;u<c;++u)(l=e[u])&&(m[u]=x=o.call(l,l.__data__,u,e)+"",f.has(x)?i[u]=l:f.set(x,l));for(u=0;u<_;++u)x=o.call(t,a[u],u,a)+"",(l=f.get(x))?(r[u]=l,l.__data__=a[u],f.delete(x)):n[u]=new ie(t,a[u]);for(u=0;u<c;++u)(l=e[u])&&f.get(m[u])===l&&(i[u]=l)}function Rr(t){return t.__data__}function Tr(t,e){if(!arguments.length)return Array.from(this,Rr);var n=e?Sr:Er,r=this._parents,i=this._groups;typeof t!="function"&&(t=br(t));for(var a=i.length,o=new Array(a),u=new Array(a),l=new Array(a),f=0;f<a;++f){var c=r[f],_=i[f],m=_.length,x=Cr(t.call(c,c&&c.__data__,f,r)),T=x.length,R=u[f]=new Array(T),I=o[f]=new Array(T),b=l[f]=new Array(m);n(c,_,R,I,b,x,e);for(var A=0,W=0,L,Y;A<T;++A)if(L=R[A]){for(A>=W&&(W=A+1);!(Y=I[W])&&++W<T;);L._next=Y||null}}return o=new at(o,r),o._enter=u,o._exit=l,o}function Cr(t){return typeof t=="object"&&"length"in t?t:Array.from(t)}function Or(){return new at(this._exit||this._groups.map(en),this._parents)}function Nr(t,e,n){var r=this.enter(),i=this,a=this.exit();return typeof t=="function"?(r=t(r),r&&(r=r.selection())):r=r.append(t+""),e!=null&&(i=e(i),i&&(i=i.selection())),n==null?a.remove():n(a),r&&i?r.merge(i).order():i}function zr(t){for(var e=t.selection?t.selection():t,n=this._groups,r=e._groups,i=n.length,a=r.length,o=Math.min(i,a),u=new Array(i),l=0;l<o;++l)for(var f=n[l],c=r[l],_=f.length,m=u[l]=new Array(_),x,T=0;T<_;++T)(x=f[T]||c[T])&&(m[T]=x);for(;l<i;++l)u[l]=n[l];return new at(u,this._parents)}function Ar(){for(var t=this._groups,e=-1,n=t.length;++e<n;)for(var r=t[e],i=r.length-1,a=r[i],o;--i>=0;)(o=r[i])&&(a&&o.compareDocumentPosition(a)^4&&a.parentNode.insertBefore(o,a),a=o);return this}function Mr(t){t||(t=Ir);function e(_,m){return _&&m?t(_.__data__,m.__data__):!_-!m}for(var n=this._groups,r=n.length,i=new Array(r),a=0;a<r;++a){for(var o=n[a],u=o.length,l=i[a]=new Array(u),f,c=0;c<u;++c)(f=o[c])&&(l[c]=f);l.sort(e)}return new at(i,this._parents).order()}function Ir(t,e){return t<e?-1:t>e?1:t>=e?0:NaN}function Pr(){var t=arguments[0];return arguments[0]=this,t.apply(null,arguments),this}function kr(){return Array.from(this)}function Dr(){for(var t=this._groups,e=0,n=t.length;e<n;++e)for(var r=t[e],i=0,a=r.length;i<a;++i){var o=r[i];if(o)return o}return null}function Lr(){let t=0;for(const e of this)++t;return t}function Fr(){return!this.node()}function Yr(t){for(var e=this._groups,n=0,r=e.length;n<r;++n)for(var i=e[n],a=0,o=i.length,u;a<o;++a)(u=i[a])&&t.call(u,u.__data__,a,i);return this}function Xr(t){return function(){this.removeAttribute(t)}}function Hr(t){return function(){this.removeAttributeNS(t.space,t.local)}}function Ur(t,e){return function(){this.setAttribute(t,e)}}function Vr(t,e){return function(){this.setAttributeNS(t.space,t.local,e)}}function Wr(t,e){return function(){var n=e.apply(this,arguments);n==null?this.removeAttribute(t):this.setAttribute(t,n)}}function $r(t,e){return function(){var n=e.apply(this,arguments);n==null?this.removeAttributeNS(t.space,t.local):this.setAttributeNS(t.space,t.local,n)}}function jr(t,e){var n=re(t);if(arguments.length<2){var r=this.node();return n.local?r.getAttributeNS(n.space,n.local):r.getAttribute(n)}return this.each((e==null?n.local?Hr:Xr:typeof e=="function"?n.local?$r:Wr:n.local?Vr:Ur)(n,e))}function nn(t){return t.ownerDocument&&t.ownerDocument.defaultView||t.document&&t||t.defaultView}function Gr(t){return function(){this.style.removeProperty(t)}}function Kr(t,e,n){return function(){this.style.setProperty(t,e,n)}}function Br(t,e,n){return function(){var r=e.apply(this,arguments);r==null?this.style.removeProperty(t):this.style.setProperty(t,r,n)}}function Zr(t,e,n){return arguments.length>1?this.each((e==null?Gr:typeof e=="function"?Br:Kr)(t,e,n??"")):zt(this.node(),t)}function zt(t,e){return t.style.getPropertyValue(e)||nn(t).getComputedStyle(t,null).getPropertyValue(e)}function Jr(t){return function(){delete this[t]}}function qr(t,e){return function(){this[t]=e}}function Qr(t,e){return function(){var n=e.apply(this,arguments);n==null?delete this[t]:this[t]=n}}function ti(t,e){return arguments.length>1?this.each((e==null?Jr:typeof e=="function"?Qr:qr)(t,e)):this.node()[t]}function rn(t){return t.trim().split(/^|\s+/)}function Re(t){return t.classList||new on(t)}function on(t){this._node=t,this._names=rn(t.getAttribute("class")||"")}on.prototype={add:function(t){var e=this._names.indexOf(t);e<0&&(this._names.push(t),this._node.setAttribute("class",this._names.join(" ")))},remove:function(t){var e=this._names.indexOf(t);e>=0&&(this._names.splice(e,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(t){return this._names.indexOf(t)>=0}};function an(t,e){for(var n=Re(t),r=-1,i=e.length;++r<i;)n.add(e[r])}function sn(t,e){for(var n=Re(t),r=-1,i=e.length;++r<i;)n.remove(e[r])}function ei(t){return function(){an(this,t)}}function ni(t){return function(){sn(this,t)}}function ri(t,e){return function(){(e.apply(this,arguments)?an:sn)(this,t)}}function ii(t,e){var n=rn(t+"");if(arguments.length<2){for(var r=Re(this.node()),i=-1,a=n.length;++i<a;)if(!r.contains(n[i]))return!1;return!0}return this.each((typeof e=="function"?ri:e?ei:ni)(n,e))}function oi(){this.textContent=""}function ai(t){return function(){this.textContent=t}}function si(t){return function(){var e=t.apply(this,arguments);this.textContent=e??""}}function ui(t){return arguments.length?this.each(t==null?oi:(typeof t=="function"?si:ai)(t)):this.node().textContent}function ci(){this.innerHTML=""}function li(t){return function(){this.innerHTML=t}}function fi(t){return function(){var e=t.apply(this,arguments);this.innerHTML=e??""}}function hi(t){return arguments.length?this.each(t==null?ci:(typeof t=="function"?fi:li)(t)):this.node().innerHTML}function di(){this.nextSibling&&this.parentNode.appendChild(this)}function pi(){return this.each(di)}function _i(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function gi(){return this.each(_i)}function vi(t){var e=typeof t=="function"?t:Je(t);return this.select(function(){return this.appendChild(e.apply(this,arguments))})}function mi(){return null}function yi(t,e){var n=typeof t=="function"?t:Je(t),r=e==null?mi:typeof e=="function"?e:Se(e);return this.select(function(){return this.insertBefore(n.apply(this,arguments),r.apply(this,arguments)||null)})}function wi(){var t=this.parentNode;t&&t.removeChild(this)}function xi(){return this.each(wi)}function bi(){var t=this.cloneNode(!1),e=this.parentNode;return e?e.insertBefore(t,this.nextSibling):t}function Ei(){var t=this.cloneNode(!0),e=this.parentNode;return e?e.insertBefore(t,this.nextSibling):t}function Si(t){return this.select(t?Ei:bi)}function Ri(t){return arguments.length?this.property("__data__",t):this.node().__data__}function Ti(t){return function(e){t.call(this,e,this.__data__)}}function Ci(t){return t.trim().split(/^|\s+/).map(function(e){var n="",r=e.indexOf(".");return r>=0&&(n=e.slice(r+1),e=e.slice(0,r)),{type:e,name:n}})}function Oi(t){return function(){var e=this.__on;if(e){for(var n=0,r=-1,i=e.length,a;n<i;++n)a=e[n],(!t.type||a.type===t.type)&&a.name===t.name?this.removeEventListener(a.type,a.listener,a.options):e[++r]=a;++r?e.length=r:delete this.__on}}}function Ni(t,e,n){return function(){var r=this.__on,i,a=Ti(e);if(r){for(var o=0,u=r.length;o<u;++o)if((i=r[o]).type===t.type&&i.name===t.name){this.removeEventListener(i.type,i.listener,i.options),this.addEventListener(i.type,i.listener=a,i.options=n),i.value=e;return}}this.addEventListener(t.type,a,n),i={type:t.type,name:t.name,value:e,listener:a,options:n},r?r.push(i):this.__on=[i]}}function zi(t,e,n){var r=Ci(t+""),i,a=r.length,o;if(arguments.length<2){var u=this.node().__on;if(u){for(var l=0,f=u.length,c;l<f;++l)for(i=0,c=u[l];i<a;++i)if((o=r[i]).type===c.type&&o.name===c.name)return c.value}return}for(u=e?Ni:Oi,i=0;i<a;++i)this.each(u(r[i],e,n));return this}function un(t,e,n){var r=nn(t),i=r.CustomEvent;typeof i=="function"?i=new i(e,n):(i=r.document.createEvent("Event"),n?(i.initEvent(e,n.bubbles,n.cancelable),i.detail=n.detail):i.initEvent(e,!1,!1)),t.dispatchEvent(i)}function Ai(t,e){return function(){return un(this,t,e)}}function Mi(t,e){return function(){return un(this,t,e.apply(this,arguments))}}function Ii(t,e){return this.each((typeof e=="function"?Mi:Ai)(t,e))}function*Pi(){for(var t=this._groups,e=0,n=t.length;e<n;++e)for(var r=t[e],i=0,a=r.length,o;i<a;++i)(o=r[i])&&(yield o)}var cn=[null];function at(t,e){this._groups=t,this._parents=e}function Xt(){return new at([[document.documentElement]],cn)}function ki(){return this}at.prototype=Xt.prototype={constructor:at,select:sr,selectAll:fr,selectChild:_r,selectChildren:yr,filter:wr,data:Tr,enter:xr,exit:Or,join:Nr,merge:zr,selection:ki,order:Ar,sort:Mr,call:Pr,nodes:kr,node:Dr,size:Lr,empty:Fr,each:Yr,attr:jr,style:Zr,property:ti,classed:ii,text:ui,html:hi,raise:pi,lower:gi,append:vi,insert:yi,remove:xi,clone:Si,datum:Ri,on:zi,dispatch:Ii,[Symbol.iterator]:Pi};function nt(t){return typeof t=="string"?new at([[document.querySelector(t)]],[document.documentElement]):new at([[t]],cn)}function Di(t){let e;for(;e=t.sourceEvent;)t=e;return t}function St(t,e){if(t=Di(t),e===void 0&&(e=t.currentTarget),e){var n=e.ownerSVGElement||e;if(n.createSVGPoint){var r=n.createSVGPoint();return r.x=t.clientX,r.y=t.clientY,r=r.matrixTransform(e.getScreenCTM().inverse()),[r.x,r.y]}if(e.getBoundingClientRect){var i=e.getBoundingClientRect();return[t.clientX-i.left-e.clientLeft,t.clientY-i.top-e.clientTop]}}return[t.pageX,t.pageY]}var Li={value:()=>{}};function Te(){for(var t=0,e=arguments.length,n={},r;t<e;++t){if(!(r=arguments[t]+"")||r in n||/[\s.]/.test(r))throw new Error("illegal type: "+r);n[r]=[]}return new oe(n)}function oe(t){this._=t}function Fi(t,e){return t.trim().split(/^|\s+/).map(function(n){var r="",i=n.indexOf(".");if(i>=0&&(r=n.slice(i+1),n=n.slice(0,i)),n&&!e.hasOwnProperty(n))throw new Error("unknown type: "+n);return{type:n,name:r}})}oe.prototype=Te.prototype={constructor:oe,on:function(t,e){var n=this._,r=Fi(t+"",n),i,a=-1,o=r.length;if(arguments.length<2){for(;++a<o;)if((i=(t=r[a]).type)&&(i=Yi(n[i],t.name)))return i;return}if(e!=null&&typeof e!="function")throw new Error("invalid callback: "+e);for(;++a<o;)if(i=(t=r[a]).type)n[i]=ln(n[i],t.name,e);else if(e==null)for(i in n)n[i]=ln(n[i],t.name,null);return this},copy:function(){var t={},e=this._;for(var n in e)t[n]=e[n].slice();return new oe(t)},call:function(t,e){if((i=arguments.length-2)>0)for(var n=new Array(i),r=0,i,a;r<i;++r)n[r]=arguments[r+2];if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(a=this._[t],r=0,i=a.length;r<i;++r)a[r].value.apply(e,n)},apply:function(t,e,n){if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(var r=this._[t],i=0,a=r.length;i<a;++i)r[i].value.apply(e,n)}};function Yi(t,e){for(var n=0,r=t.length,i;n<r;++n)if((i=t[n]).name===e)return i.value}function ln(t,e,n){for(var r=0,i=t.length;r<i;++r)if(t[r].name===e){t[r]=Li,t=t.slice(0,r).concat(t.slice(r+1));break}return n!=null&&t.push({name:e,value:n}),t}const Ce={capture:!0,passive:!1};function Oe(t){t.preventDefault(),t.stopImmediatePropagation()}function Xi(t){var e=t.document.documentElement,n=nt(t).on("dragstart.drag",Oe,Ce);"onselectstart"in e?n.on("selectstart.drag",Oe,Ce):(e.__noselect=e.style.MozUserSelect,e.style.MozUserSelect="none")}function Hi(t,e){var n=t.document.documentElement,r=nt(t).on("dragstart.drag",null);e&&(r.on("click.drag",Oe,Ce),setTimeout(function(){r.on("click.drag",null)},0)),"onselectstart"in n?r.on("selectstart.drag",null):(n.style.MozUserSelect=n.__noselect,delete n.__noselect)}function Ne(t,e,n){t.prototype=e.prototype=n,n.constructor=t}function fn(t,e){var n=Object.create(t.prototype);for(var r in e)n[r]=e[r];return n}function Ht(){}var Ut=.7,ae=1/Ut,At="\\s*([+-]?\\d+)\\s*",Vt="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",pt="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",Ui=/^#([0-9a-f]{3,8})$/,Vi=new RegExp(`^rgb\\(${At},${At},${At}\\)$`),Wi=new RegExp(`^rgb\\(${pt},${pt},${pt}\\)$`),$i=new RegExp(`^rgba\\(${At},${At},${At},${Vt}\\)$`),ji=new RegExp(`^rgba\\(${pt},${pt},${pt},${Vt}\\)$`),Gi=new RegExp(`^hsl\\(${Vt},${pt},${pt}\\)$`),Ki=new RegExp(`^hsla\\(${Vt},${pt},${pt},${Vt}\\)$`),hn={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};Ne(Ht,Wt,{copy(t){return Object.assign(new this.constructor,this,t)},displayable(){return this.rgb().displayable()},hex:dn,formatHex:dn,formatHex8:Bi,formatHsl:Zi,formatRgb:pn,toString:pn});function dn(){return this.rgb().formatHex()}function Bi(){return this.rgb().formatHex8()}function Zi(){return yn(this).formatHsl()}function pn(){return this.rgb().formatRgb()}function Wt(t){var e,n;return t=(t+"").trim().toLowerCase(),(e=Ui.exec(t))?(n=e[1].length,e=parseInt(e[1],16),n===6?_n(e):n===3?new ot(e>>8&15|e>>4&240,e>>4&15|e&240,(e&15)<<4|e&15,1):n===8?se(e>>24&255,e>>16&255,e>>8&255,(e&255)/255):n===4?se(e>>12&15|e>>8&240,e>>8&15|e>>4&240,e>>4&15|e&240,((e&15)<<4|e&15)/255):null):(e=Vi.exec(t))?new ot(e[1],e[2],e[3],1):(e=Wi.exec(t))?new ot(e[1]*255/100,e[2]*255/100,e[3]*255/100,1):(e=$i.exec(t))?se(e[1],e[2],e[3],e[4]):(e=ji.exec(t))?se(e[1]*255/100,e[2]*255/100,e[3]*255/100,e[4]):(e=Gi.exec(t))?mn(e[1],e[2]/100,e[3]/100,1):(e=Ki.exec(t))?mn(e[1],e[2]/100,e[3]/100,e[4]):hn.hasOwnProperty(t)?_n(hn[t]):t==="transparent"?new ot(NaN,NaN,NaN,0):null}function _n(t){return new ot(t>>16&255,t>>8&255,t&255,1)}function se(t,e,n,r){return r<=0&&(t=e=n=NaN),new ot(t,e,n,r)}function Ji(t){return t instanceof Ht||(t=Wt(t)),t?(t=t.rgb(),new ot(t.r,t.g,t.b,t.opacity)):new ot}function ze(t,e,n,r){return arguments.length===1?Ji(t):new ot(t,e,n,r??1)}function ot(t,e,n,r){this.r=+t,this.g=+e,this.b=+n,this.opacity=+r}Ne(ot,ze,fn(Ht,{brighter(t){return t=t==null?ae:Math.pow(ae,t),new ot(this.r*t,this.g*t,this.b*t,this.opacity)},darker(t){return t=t==null?Ut:Math.pow(Ut,t),new ot(this.r*t,this.g*t,this.b*t,this.opacity)},rgb(){return this},clamp(){return new ot(Tt(this.r),Tt(this.g),Tt(this.b),ue(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:gn,formatHex:gn,formatHex8:qi,formatRgb:vn,toString:vn}));function gn(){return`#${Ct(this.r)}${Ct(this.g)}${Ct(this.b)}`}function qi(){return`#${Ct(this.r)}${Ct(this.g)}${Ct(this.b)}${Ct((isNaN(this.opacity)?1:this.opacity)*255)}`}function vn(){const t=ue(this.opacity);return`${t===1?"rgb(":"rgba("}${Tt(this.r)}, ${Tt(this.g)}, ${Tt(this.b)}${t===1?")":`, ${t})`}`}function ue(t){return isNaN(t)?1:Math.max(0,Math.min(1,t))}function Tt(t){return Math.max(0,Math.min(255,Math.round(t)||0))}function Ct(t){return t=Tt(t),(t<16?"0":"")+t.toString(16)}function mn(t,e,n,r){return r<=0?t=e=n=NaN:n<=0||n>=1?t=e=NaN:e<=0&&(t=NaN),new ft(t,e,n,r)}function yn(t){if(t instanceof ft)return new ft(t.h,t.s,t.l,t.opacity);if(t instanceof Ht||(t=Wt(t)),!t)return new ft;if(t instanceof ft)return t;t=t.rgb();var e=t.r/255,n=t.g/255,r=t.b/255,i=Math.min(e,n,r),a=Math.max(e,n,r),o=NaN,u=a-i,l=(a+i)/2;return u?(e===a?o=(n-r)/u+(n<r)*6:n===a?o=(r-e)/u+2:o=(e-n)/u+4,u/=l<.5?a+i:2-a-i,o*=60):u=l>0&&l<1?0:o,new ft(o,u,l,t.opacity)}function Qi(t,e,n,r){return arguments.length===1?yn(t):new ft(t,e,n,r??1)}function ft(t,e,n,r){this.h=+t,this.s=+e,this.l=+n,this.opacity=+r}Ne(ft,Qi,fn(Ht,{brighter(t){return t=t==null?ae:Math.pow(ae,t),new ft(this.h,this.s,this.l*t,this.opacity)},darker(t){return t=t==null?Ut:Math.pow(Ut,t),new ft(this.h,this.s,this.l*t,this.opacity)},rgb(){var t=this.h%360+(this.h<0)*360,e=isNaN(t)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*e,i=2*n-r;return new ot(Ae(t>=240?t-240:t+120,i,r),Ae(t,i,r),Ae(t<120?t+240:t-120,i,r),this.opacity)},clamp(){return new ft(wn(this.h),ce(this.s),ce(this.l),ue(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const t=ue(this.opacity);return`${t===1?"hsl(":"hsla("}${wn(this.h)}, ${ce(this.s)*100}%, ${ce(this.l)*100}%${t===1?")":`, ${t})`}`}}));function wn(t){return t=(t||0)%360,t<0?t+360:t}function ce(t){return Math.max(0,Math.min(1,t||0))}function Ae(t,e,n){return(t<60?e+(n-e)*t/60:t<180?n:t<240?e+(n-e)*(240-t)/60:e)*255}const xn=t=>()=>t;function to(t,e){return function(n){return t+n*e}}function eo(t,e,n){return t=Math.pow(t,n),e=Math.pow(e,n)-t,n=1/n,function(r){return Math.pow(t+r*e,n)}}function no(t){return(t=+t)==1?bn:function(e,n){return n-e?eo(e,n,t):xn(isNaN(e)?n:e)}}function bn(t,e){var n=e-t;return n?to(t,n):xn(isNaN(t)?e:t)}const En=function t(e){var n=no(e);function r(i,a){var o=n((i=ze(i)).r,(a=ze(a)).r),u=n(i.g,a.g),l=n(i.b,a.b),f=bn(i.opacity,a.opacity);return function(c){return i.r=o(c),i.g=u(c),i.b=l(c),i.opacity=f(c),i+""}}return r.gamma=t,r}(1);function Rt(t,e){return t=+t,e=+e,function(n){return t*(1-n)+e*n}}var Me=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,Ie=new RegExp(Me.source,"g");function ro(t){return function(){return t}}function io(t){return function(e){return t(e)+""}}function oo(t,e){var n=Me.lastIndex=Ie.lastIndex=0,r,i,a,o=-1,u=[],l=[];for(t=t+"",e=e+"";(r=Me.exec(t))&&(i=Ie.exec(e));)(a=i.index)>n&&(a=e.slice(n,a),u[o]?u[o]+=a:u[++o]=a),(r=r[0])===(i=i[0])?u[o]?u[o]+=i:u[++o]=i:(u[++o]=null,l.push({i:o,x:Rt(r,i)})),n=Ie.lastIndex;return n<e.length&&(a=e.slice(n),u[o]?u[o]+=a:u[++o]=a),u.length<2?l[0]?io(l[0].x):ro(e):(e=l.length,function(f){for(var c=0,_;c<e;++c)u[(_=l[c]).i]=_.x(f);return u.join("")})}var Sn=180/Math.PI,Pe={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function Rn(t,e,n,r,i,a){var o,u,l;return(o=Math.sqrt(t*t+e*e))&&(t/=o,e/=o),(l=t*n+e*r)&&(n-=t*l,r-=e*l),(u=Math.sqrt(n*n+r*r))&&(n/=u,r/=u,l/=u),t*r<e*n&&(t=-t,e=-e,l=-l,o=-o),{translateX:i,translateY:a,rotate:Math.atan2(e,t)*Sn,skewX:Math.atan(l)*Sn,scaleX:o,scaleY:u}}var le;function ao(t){const e=new(typeof DOMMatrix=="function"?DOMMatrix:WebKitCSSMatrix)(t+"");return e.isIdentity?Pe:Rn(e.a,e.b,e.c,e.d,e.e,e.f)}function so(t){return t==null||(le||(le=document.createElementNS("http://www.w3.org/2000/svg","g")),le.setAttribute("transform",t),!(t=le.transform.baseVal.consolidate()))?Pe:(t=t.matrix,Rn(t.a,t.b,t.c,t.d,t.e,t.f))}function Tn(t,e,n,r){function i(f){return f.length?f.pop()+" ":""}function a(f,c,_,m,x,T){if(f!==_||c!==m){var R=x.push("translate(",null,e,null,n);T.push({i:R-4,x:Rt(f,_)},{i:R-2,x:Rt(c,m)})}else(_||m)&&x.push("translate("+_+e+m+n)}function o(f,c,_,m){f!==c?(f-c>180?c+=360:c-f>180&&(f+=360),m.push({i:_.push(i(_)+"rotate(",null,r)-2,x:Rt(f,c)})):c&&_.push(i(_)+"rotate("+c+r)}function u(f,c,_,m){f!==c?m.push({i:_.push(i(_)+"skewX(",null,r)-2,x:Rt(f,c)}):c&&_.push(i(_)+"skewX("+c+r)}function l(f,c,_,m,x,T){if(f!==_||c!==m){var R=x.push(i(x)+"scale(",null,",",null,")");T.push({i:R-4,x:Rt(f,_)},{i:R-2,x:Rt(c,m)})}else(_!==1||m!==1)&&x.push(i(x)+"scale("+_+","+m+")")}return function(f,c){var _=[],m=[];return f=t(f),c=t(c),a(f.translateX,f.translateY,c.translateX,c.translateY,_,m),o(f.rotate,c.rotate,_,m),u(f.skewX,c.skewX,_,m),l(f.scaleX,f.scaleY,c.scaleX,c.scaleY,_,m),f=c=null,function(x){for(var T=-1,R=m.length,I;++T<R;)_[(I=m[T]).i]=I.x(x);return _.join("")}}}var uo=Tn(ao,"px, ","px)","deg)"),co=Tn(so,", ",")",")"),lo=1e-12;function Cn(t){return((t=Math.exp(t))+1/t)/2}function fo(t){return((t=Math.exp(t))-1/t)/2}function ho(t){return((t=Math.exp(2*t))-1)/(t+1)}const po=function t(e,n,r){function i(a,o){var u=a[0],l=a[1],f=a[2],c=o[0],_=o[1],m=o[2],x=c-u,T=_-l,R=x*x+T*T,I,b;if(R<lo)b=Math.log(m/f)/e,I=function(D){return[u+D*x,l+D*T,f*Math.exp(e*D*b)]};else{var A=Math.sqrt(R),W=(m*m-f*f+r*R)/(2*f*n*A),L=(m*m-f*f-r*R)/(2*m*n*A),Y=Math.log(Math.sqrt(W*W+1)-W),X=Math.log(Math.sqrt(L*L+1)-L);b=(X-Y)/e,I=function(D){var F=D*b,$=Cn(Y),Q=f/(n*A)*($*ho(e*F+Y)-fo(Y));return[u+Q*x,l+Q*T,f*$/Cn(e*F+Y)]}}return I.duration=b*1e3*e/Math.SQRT2,I}return i.rho=function(a){var o=Math.max(.001,+a),u=o*o,l=u*u;return t(o,u,l)},i}(Math.SQRT2,2,4);var Mt=0,$t=0,jt=0,On=1e3,fe,Gt,he=0,Ot=0,de=0,Kt=typeof performance=="object"&&performance.now?performance:Date,Nn=typeof window=="object"&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(t){setTimeout(t,17)};function ke(){return Ot||(Nn(_o),Ot=Kt.now()+de)}function _o(){Ot=0}function pe(){this._call=this._time=this._next=null}pe.prototype=zn.prototype={constructor:pe,restart:function(t,e,n){if(typeof t!="function")throw new TypeError("callback is not a function");n=(n==null?ke():+n)+(e==null?0:+e),!this._next&&Gt!==this&&(Gt?Gt._next=this:fe=this,Gt=this),this._call=t,this._time=n,De()},stop:function(){this._call&&(this._call=null,this._time=1/0,De())}};function zn(t,e,n){var r=new pe;return r.restart(t,e,n),r}function go(){ke(),++Mt;for(var t=fe,e;t;)(e=Ot-t._time)>=0&&t._call.call(void 0,e),t=t._next;--Mt}function An(){Ot=(he=Kt.now())+de,Mt=$t=0;try{go()}finally{Mt=0,mo(),Ot=0}}function vo(){var t=Kt.now(),e=t-he;e>On&&(de-=e,he=t)}function mo(){for(var t,e=fe,n,r=1/0;e;)e._call?(r>e._time&&(r=e._time),t=e,e=e._next):(n=e._next,e._next=null,e=t?t._next=n:fe=n);Gt=t,De(r)}function De(t){if(!Mt){$t&&($t=clearTimeout($t));var e=t-Ot;e>24?(t<1/0&&($t=setTimeout(An,t-Kt.now()-de)),jt&&(jt=clearInterval(jt))):(jt||(he=Kt.now(),jt=setInterval(vo,On)),Mt=1,Nn(An))}}function Mn(t,e,n){var r=new pe;return e=e==null?0:+e,r.restart(i=>{r.stop(),t(i+e)},e,n),r}var yo=Te("start","end","cancel","interrupt"),wo=[],In=0,Pn=1,Le=2,_e=3,kn=4,Fe=5,ge=6;function ve(t,e,n,r,i,a){var o=t.__transition;if(!o)t.__transition={};else if(n in o)return;xo(t,n,{name:e,index:r,group:i,on:yo,tween:wo,time:a.time,delay:a.delay,duration:a.duration,ease:a.ease,timer:null,state:In})}function Ye(t,e){var n=ht(t,e);if(n.state>In)throw new Error("too late; already scheduled");return n}function _t(t,e){var n=ht(t,e);if(n.state>_e)throw new Error("too late; already running");return n}function ht(t,e){var n=t.__transition;if(!n||!(n=n[e]))throw new Error("transition not found");return n}function xo(t,e,n){var r=t.__transition,i;r[e]=n,n.timer=zn(a,0,n.time);function a(f){n.state=Pn,n.timer.restart(o,n.delay,n.time),n.delay<=f&&o(f-n.delay)}function o(f){var c,_,m,x;if(n.state!==Pn)return l();for(c in r)if(x=r[c],x.name===n.name){if(x.state===_e)return Mn(o);x.state===kn?(x.state=ge,x.timer.stop(),x.on.call("interrupt",t,t.__data__,x.index,x.group),delete r[c]):+c<e&&(x.state=ge,x.timer.stop(),x.on.call("cancel",t,t.__data__,x.index,x.group),delete r[c])}if(Mn(function(){n.state===_e&&(n.state=kn,n.timer.restart(u,n.delay,n.time),u(f))}),n.state=Le,n.on.call("start",t,t.__data__,n.index,n.group),n.state===Le){for(n.state=_e,i=new Array(m=n.tween.length),c=0,_=-1;c<m;++c)(x=n.tween[c].value.call(t,t.__data__,n.index,n.group))&&(i[++_]=x);i.length=_+1}}function u(f){for(var c=f<n.duration?n.ease.call(null,f/n.duration):(n.timer.restart(l),n.state=Fe,1),_=-1,m=i.length;++_<m;)i[_].call(t,c);n.state===Fe&&(n.on.call("end",t,t.__data__,n.index,n.group),l())}function l(){n.state=ge,n.timer.stop(),delete r[e];for(var f in r)return;delete t.__transition}}function me(t,e){var n=t.__transition,r,i,a=!0,o;if(n){e=e==null?null:e+"";for(o in n){if((r=n[o]).name!==e){a=!1;continue}i=r.state>Le&&r.state<Fe,r.state=ge,r.timer.stop(),r.on.call(i?"interrupt":"cancel",t,t.__data__,r.index,r.group),delete n[o]}a&&delete t.__transition}}function bo(t){return this.each(function(){me(this,t)})}function Eo(t,e){var n,r;return function(){var i=_t(this,t),a=i.tween;if(a!==n){r=n=a;for(var o=0,u=r.length;o<u;++o)if(r[o].name===e){r=r.slice(),r.splice(o,1);break}}i.tween=r}}function So(t,e,n){var r,i;if(typeof n!="function")throw new Error;return function(){var a=_t(this,t),o=a.tween;if(o!==r){i=(r=o).slice();for(var u={name:e,value:n},l=0,f=i.length;l<f;++l)if(i[l].name===e){i[l]=u;break}l===f&&i.push(u)}a.tween=i}}function Ro(t,e){var n=this._id;if(t+="",arguments.length<2){for(var r=ht(this.node(),n).tween,i=0,a=r.length,o;i<a;++i)if((o=r[i]).name===t)return o.value;return null}return this.each((e==null?Eo:So)(n,t,e))}function Xe(t,e,n){var r=t._id;return t.each(function(){var i=_t(this,r);(i.value||(i.value={}))[e]=n.apply(this,arguments)}),function(i){return ht(i,r).value[e]}}function Dn(t,e){var n;return(typeof e=="number"?Rt:e instanceof Wt?En:(n=Wt(e))?(e=n,En):oo)(t,e)}function To(t){return function(){this.removeAttribute(t)}}function Co(t){return function(){this.removeAttributeNS(t.space,t.local)}}function Oo(t,e,n){var r,i=n+"",a;return function(){var o=this.getAttribute(t);return o===i?null:o===r?a:a=e(r=o,n)}}function No(t,e,n){var r,i=n+"",a;return function(){var o=this.getAttributeNS(t.space,t.local);return o===i?null:o===r?a:a=e(r=o,n)}}function zo(t,e,n){var r,i,a;return function(){var o,u=n(this),l;return u==null?void this.removeAttribute(t):(o=this.getAttribute(t),l=u+"",o===l?null:o===r&&l===i?a:(i=l,a=e(r=o,u)))}}function Ao(t,e,n){var r,i,a;return function(){var o,u=n(this),l;return u==null?void this.removeAttributeNS(t.space,t.local):(o=this.getAttributeNS(t.space,t.local),l=u+"",o===l?null:o===r&&l===i?a:(i=l,a=e(r=o,u)))}}function Mo(t,e){var n=re(t),r=n==="transform"?co:Dn;return this.attrTween(t,typeof e=="function"?(n.local?Ao:zo)(n,r,Xe(this,"attr."+t,e)):e==null?(n.local?Co:To)(n):(n.local?No:Oo)(n,r,e))}function Io(t,e){return function(n){this.setAttribute(t,e.call(this,n))}}function Po(t,e){return function(n){this.setAttributeNS(t.space,t.local,e.call(this,n))}}function ko(t,e){var n,r;function i(){var a=e.apply(this,arguments);return a!==r&&(n=(r=a)&&Po(t,a)),n}return i._value=e,i}function Do(t,e){var n,r;function i(){var a=e.apply(this,arguments);return a!==r&&(n=(r=a)&&Io(t,a)),n}return i._value=e,i}function Lo(t,e){var n="attr."+t;if(arguments.length<2)return(n=this.tween(n))&&n._value;if(e==null)return this.tween(n,null);if(typeof e!="function")throw new Error;var r=re(t);return this.tween(n,(r.local?ko:Do)(r,e))}function Fo(t,e){return function(){Ye(this,t).delay=+e.apply(this,arguments)}}function Yo(t,e){return e=+e,function(){Ye(this,t).delay=e}}function Xo(t){var e=this._id;return arguments.length?this.each((typeof t=="function"?Fo:Yo)(e,t)):ht(this.node(),e).delay}function Ho(t,e){return function(){_t(this,t).duration=+e.apply(this,arguments)}}function Uo(t,e){return e=+e,function(){_t(this,t).duration=e}}function Vo(t){var e=this._id;return arguments.length?this.each((typeof t=="function"?Ho:Uo)(e,t)):ht(this.node(),e).duration}function Wo(t,e){if(typeof e!="function")throw new Error;return function(){_t(this,t).ease=e}}function $o(t){var e=this._id;return arguments.length?this.each(Wo(e,t)):ht(this.node(),e).ease}function jo(t,e){return function(){var n=e.apply(this,arguments);if(typeof n!="function")throw new Error;_t(this,t).ease=n}}function Go(t){if(typeof t!="function")throw new Error;return this.each(jo(this._id,t))}function Ko(t){typeof t!="function"&&(t=Qe(t));for(var e=this._groups,n=e.length,r=new Array(n),i=0;i<n;++i)for(var a=e[i],o=a.length,u=r[i]=[],l,f=0;f<o;++f)(l=a[f])&&t.call(l,l.__data__,f,a)&&u.push(l);return new gt(r,this._parents,this._name,this._id)}function Bo(t){if(t._id!==this._id)throw new Error;for(var e=this._groups,n=t._groups,r=e.length,i=n.length,a=Math.min(r,i),o=new Array(r),u=0;u<a;++u)for(var l=e[u],f=n[u],c=l.length,_=o[u]=new Array(c),m,x=0;x<c;++x)(m=l[x]||f[x])&&(_[x]=m);for(;u<r;++u)o[u]=e[u];return new gt(o,this._parents,this._name,this._id)}function Zo(t){return(t+"").trim().split(/^|\s+/).every(function(e){var n=e.indexOf(".");return n>=0&&(e=e.slice(0,n)),!e||e==="start"})}function Jo(t,e,n){var r,i,a=Zo(e)?Ye:_t;return function(){var o=a(this,t),u=o.on;u!==r&&(i=(r=u).copy()).on(e,n),o.on=i}}function qo(t,e){var n=this._id;return arguments.length<2?ht(this.node(),n).on.on(t):this.each(Jo(n,t,e))}function Qo(t){return function(){var e=this.parentNode;for(var n in this.__transition)if(+n!==t)return;e&&e.removeChild(this)}}function ta(){return this.on("end.remove",Qo(this._id))}function ea(t){var e=this._name,n=this._id;typeof t!="function"&&(t=Se(t));for(var r=this._groups,i=r.length,a=new Array(i),o=0;o<i;++o)for(var u=r[o],l=u.length,f=a[o]=new Array(l),c,_,m=0;m<l;++m)(c=u[m])&&(_=t.call(c,c.__data__,m,u))&&("__data__"in c&&(_.__data__=c.__data__),f[m]=_,ve(f[m],e,n,m,f,ht(c,n)));return new gt(a,this._parents,e,n)}function na(t){var e=this._name,n=this._id;typeof t!="function"&&(t=qe(t));for(var r=this._groups,i=r.length,a=[],o=[],u=0;u<i;++u)for(var l=r[u],f=l.length,c,_=0;_<f;++_)if(c=l[_]){for(var m=t.call(c,c.__data__,_,l),x,T=ht(c,n),R=0,I=m.length;R<I;++R)(x=m[R])&&ve(x,e,n,R,m,T);a.push(m),o.push(c)}return new gt(a,o,e,n)}var ra=Xt.prototype.constructor;function ia(){return new ra(this._groups,this._parents)}function oa(t,e){var n,r,i;return function(){var a=zt(this,t),o=(this.style.removeProperty(t),zt(this,t));return a===o?null:a===n&&o===r?i:i=e(n=a,r=o)}}function Ln(t){return function(){this.style.removeProperty(t)}}function aa(t,e,n){var r,i=n+"",a;return function(){var o=zt(this,t);return o===i?null:o===r?a:a=e(r=o,n)}}function sa(t,e,n){var r,i,a;return function(){var o=zt(this,t),u=n(this),l=u+"";return u==null&&(l=u=(this.style.removeProperty(t),zt(this,t))),o===l?null:o===r&&l===i?a:(i=l,a=e(r=o,u))}}function ua(t,e){var n,r,i,a="style."+e,o="end."+a,u;return function(){var l=_t(this,t),f=l.on,c=l.value[a]==null?u||(u=Ln(e)):void 0;(f!==n||i!==c)&&(r=(n=f).copy()).on(o,i=c),l.on=r}}function ca(t,e,n){var r=(t+="")=="transform"?uo:Dn;return e==null?this.styleTween(t,oa(t,r)).on("end.style."+t,Ln(t)):typeof e=="function"?this.styleTween(t,sa(t,r,Xe(this,"style."+t,e))).each(ua(this._id,t)):this.styleTween(t,aa(t,r,e),n).on("end.style."+t,null)}function la(t,e,n){return function(r){this.style.setProperty(t,e.call(this,r),n)}}function fa(t,e,n){var r,i;function a(){var o=e.apply(this,arguments);return o!==i&&(r=(i=o)&&la(t,o,n)),r}return a._value=e,a}function ha(t,e,n){var r="style."+(t+="");if(arguments.length<2)return(r=this.tween(r))&&r._value;if(e==null)return this.tween(r,null);if(typeof e!="function")throw new Error;return this.tween(r,fa(t,e,n??""))}function da(t){return function(){this.textContent=t}}function pa(t){return function(){var e=t(this);this.textContent=e??""}}function _a(t){return this.tween("text",typeof t=="function"?pa(Xe(this,"text",t)):da(t==null?"":t+""))}function ga(t){return function(e){this.textContent=t.call(this,e)}}function va(t){var e,n;function r(){var i=t.apply(this,arguments);return i!==n&&(e=(n=i)&&ga(i)),e}return r._value=t,r}function ma(t){var e="text";if(arguments.length<1)return(e=this.tween(e))&&e._value;if(t==null)return this.tween(e,null);if(typeof t!="function")throw new Error;return this.tween(e,va(t))}function ya(){for(var t=this._name,e=this._id,n=Fn(),r=this._groups,i=r.length,a=0;a<i;++a)for(var o=r[a],u=o.length,l,f=0;f<u;++f)if(l=o[f]){var c=ht(l,e);ve(l,t,n,f,o,{time:c.time+c.delay+c.duration,delay:0,duration:c.duration,ease:c.ease})}return new gt(r,this._parents,t,n)}function wa(){var t,e,n=this,r=n._id,i=n.size();return new Promise(function(a,o){var u={value:o},l={value:function(){--i===0&&a()}};n.each(function(){var f=_t(this,r),c=f.on;c!==t&&(e=(t=c).copy(),e._.cancel.push(u),e._.interrupt.push(u),e._.end.push(l)),f.on=e}),i===0&&a()})}var xa=0;function gt(t,e,n,r){this._groups=t,this._parents=e,this._name=n,this._id=r}function Fn(){return++xa}var vt=Xt.prototype;gt.prototype={constructor:gt,select:ea,selectAll:na,selectChild:vt.selectChild,selectChildren:vt.selectChildren,filter:Ko,merge:Bo,selection:ia,transition:ya,call:vt.call,nodes:vt.nodes,node:vt.node,size:vt.size,empty:vt.empty,each:vt.each,on:qo,attr:Mo,attrTween:Lo,style:ca,styleTween:ha,text:_a,textTween:ma,remove:ta,tween:Ro,delay:Xo,duration:Vo,ease:$o,easeVarying:Go,end:wa,[Symbol.iterator]:vt[Symbol.iterator]};function ba(t){return((t*=2)<=1?t*t*t:(t-=2)*t*t+2)/2}var Ea={time:null,delay:0,duration:250,ease:ba};function Sa(t,e){for(var n;!(n=t.__transition)||!(n=n[e]);)if(!(t=t.parentNode))throw new Error(`transition ${e} not found`);return n}function Ra(t){var e,n;t instanceof gt?(e=t._id,t=t._name):(e=Fn(),(n=Ea).time=ke(),t=t==null?null:t+"");for(var r=this._groups,i=r.length,a=0;a<i;++a)for(var o=r[a],u=o.length,l,f=0;f<u;++f)(l=o[f])&&ve(l,t,e,f,o,n||Sa(l,e));return new gt(r,this._parents,t,e)}Xt.prototype.interrupt=bo,Xt.prototype.transition=Ra;const ye=t=>()=>t;function Ta(t,{sourceEvent:e,target:n,transform:r,dispatch:i}){Object.defineProperties(this,{type:{value:t,enumerable:!0,configurable:!0},sourceEvent:{value:e,enumerable:!0,configurable:!0},target:{value:n,enumerable:!0,configurable:!0},transform:{value:r,enumerable:!0,configurable:!0},_:{value:i}})}function mt(t,e,n){this.k=t,this.x=e,this.y=n}mt.prototype={constructor:mt,scale:function(t){return t===1?this:new mt(this.k*t,this.x,this.y)},translate:function(t,e){return t===0&e===0?this:new mt(this.k,this.x+this.k*t,this.y+this.k*e)},apply:function(t){return[t[0]*this.k+this.x,t[1]*this.k+this.y]},applyX:function(t){return t*this.k+this.x},applyY:function(t){return t*this.k+this.y},invert:function(t){return[(t[0]-this.x)/this.k,(t[1]-this.y)/this.k]},invertX:function(t){return(t-this.x)/this.k},invertY:function(t){return(t-this.y)/this.k},rescaleX:function(t){return t.copy().domain(t.range().map(this.invertX,this).map(t.invert,t))},rescaleY:function(t){return t.copy().domain(t.range().map(this.invertY,this).map(t.invert,t))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}};var Bt=new mt(1,0,0);mt.prototype;function He(t){t.stopImmediatePropagation()}function Zt(t){t.preventDefault(),t.stopImmediatePropagation()}function Ca(t){return(!t.ctrlKey||t.type==="wheel")&&!t.button}function Oa(){var t=this;return t instanceof SVGElement?(t=t.ownerSVGElement||t,t.hasAttribute("viewBox")?(t=t.viewBox.baseVal,[[t.x,t.y],[t.x+t.width,t.y+t.height]]):[[0,0],[t.width.baseVal.value,t.height.baseVal.value]]):[[0,0],[t.clientWidth,t.clientHeight]]}function Yn(){return this.__zoom||Bt}function Na(t){return-t.deltaY*(t.deltaMode===1?.05:t.deltaMode?1:.002)*(t.ctrlKey?10:1)}function za(){return navigator.maxTouchPoints||"ontouchstart"in this}function Aa(t,e,n){var r=t.invertX(e[0][0])-n[0][0],i=t.invertX(e[1][0])-n[1][0],a=t.invertY(e[0][1])-n[0][1],o=t.invertY(e[1][1])-n[1][1];return t.translate(i>r?(r+i)/2:Math.min(0,r)||Math.max(0,i),o>a?(a+o)/2:Math.min(0,a)||Math.max(0,o))}function Xn(){var t=Ca,e=Oa,n=Aa,r=Na,i=za,a=[0,1/0],o=[[-1/0,-1/0],[1/0,1/0]],u=250,l=po,f=Te("start","zoom","end"),c,_,m,x=500,T=150,R=0,I=10;function b(h){h.property("__zoom",Yn).on("wheel.zoom",F,{passive:!1}).on("mousedown.zoom",$).on("dblclick.zoom",Q).filter(i).on("touchstart.zoom",ut).on("touchmove.zoom",et).on("touchend.zoom touchcancel.zoom",rt).style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}b.transform=function(h,v,d,p){var y=h.selection?h.selection():h;y.property("__zoom",Yn),h!==y?Y(h,v,d,p):y.interrupt().each(function(){X(this,arguments).event(p).start().zoom(null,typeof v=="function"?v.apply(this,arguments):v).end()})},b.scaleBy=function(h,v,d,p){b.scaleTo(h,function(){var y=this.__zoom.k,E=typeof v=="function"?v.apply(this,arguments):v;return y*E},d,p)},b.scaleTo=function(h,v,d,p){b.transform(h,function(){var y=e.apply(this,arguments),E=this.__zoom,S=d==null?L(y):typeof d=="function"?d.apply(this,arguments):d,N=E.invert(S),O=typeof v=="function"?v.apply(this,arguments):v;return n(W(A(E,O),S,N),y,o)},d,p)},b.translateBy=function(h,v,d,p){b.transform(h,function(){return n(this.__zoom.translate(typeof v=="function"?v.apply(this,arguments):v,typeof d=="function"?d.apply(this,arguments):d),e.apply(this,arguments),o)},null,p)},b.translateTo=function(h,v,d,p,y){b.transform(h,function(){var E=e.apply(this,arguments),S=this.__zoom,N=p==null?L(E):typeof p=="function"?p.apply(this,arguments):p;return n(Bt.translate(N[0],N[1]).scale(S.k).translate(typeof v=="function"?-v.apply(this,arguments):-v,typeof d=="function"?-d.apply(this,arguments):-d),E,o)},p,y)};function A(h,v){return v=Math.max(a[0],Math.min(a[1],v)),v===h.k?h:new mt(v,h.x,h.y)}function W(h,v,d){var p=v[0]-d[0]*h.k,y=v[1]-d[1]*h.k;return p===h.x&&y===h.y?h:new mt(h.k,p,y)}function L(h){return[(+h[0][0]+ +h[1][0])/2,(+h[0][1]+ +h[1][1])/2]}function Y(h,v,d,p){h.on("start.zoom",function(){X(this,arguments).event(p).start()}).on("interrupt.zoom end.zoom",function(){X(this,arguments).event(p).end()}).tween("zoom",function(){var y=this,E=arguments,S=X(y,E).event(p),N=e.apply(y,E),O=d==null?L(N):typeof d=="function"?d.apply(y,E):d,V=Math.max(N[1][0]-N[0][0],N[1][1]-N[0][1]),H=y.__zoom,j=typeof v=="function"?v.apply(y,E):v,G=l(H.invert(O).concat(V/H.k),j.invert(O).concat(V/j.k));return function(q){if(q===1)q=j;else{var Z=G(q),ct=V/Z[2];q=new mt(ct,O[0]-Z[0]*ct,O[1]-Z[1]*ct)}S.zoom(null,q)}})}function X(h,v,d){return!d&&h.__zooming||new D(h,v)}function D(h,v){this.that=h,this.args=v,this.active=0,this.sourceEvent=null,this.extent=e.apply(h,v),this.taps=0}D.prototype={event:function(h){return h&&(this.sourceEvent=h),this},start:function(){return++this.active===1&&(this.that.__zooming=this,this.emit("start")),this},zoom:function(h,v){return this.mouse&&h!=="mouse"&&(this.mouse[1]=v.invert(this.mouse[0])),this.touch0&&h!=="touch"&&(this.touch0[1]=v.invert(this.touch0[0])),this.touch1&&h!=="touch"&&(this.touch1[1]=v.invert(this.touch1[0])),this.that.__zoom=v,this.emit("zoom"),this},end:function(){return--this.active===0&&(delete this.that.__zooming,this.emit("end")),this},emit:function(h){var v=nt(this.that).datum();f.call(h,this.that,new Ta(h,{sourceEvent:this.sourceEvent,target:b,type:h,transform:this.that.__zoom,dispatch:f}),v)}};function F(h,...v){if(!t.apply(this,arguments))return;var d=X(this,v).event(h),p=this.__zoom,y=Math.max(a[0],Math.min(a[1],p.k*Math.pow(2,r.apply(this,arguments)))),E=St(h);if(d.wheel)(d.mouse[0][0]!==E[0]||d.mouse[0][1]!==E[1])&&(d.mouse[1]=p.invert(d.mouse[0]=E)),clearTimeout(d.wheel);else{if(p.k===y)return;d.mouse=[E,p.invert(E)],me(this),d.start()}Zt(h),d.wheel=setTimeout(S,T),d.zoom("mouse",n(W(A(p,y),d.mouse[0],d.mouse[1]),d.extent,o));function S(){d.wheel=null,d.end()}}function $(h,...v){if(m||!t.apply(this,arguments))return;var d=h.currentTarget,p=X(this,v,!0).event(h),y=nt(h.view).on("mousemove.zoom",O,!0).on("mouseup.zoom",V,!0),E=St(h,d),S=h.clientX,N=h.clientY;Xi(h.view),He(h),p.mouse=[E,this.__zoom.invert(E)],me(this),p.start();function O(H){if(Zt(H),!p.moved){var j=H.clientX-S,G=H.clientY-N;p.moved=j*j+G*G>R}p.event(H).zoom("mouse",n(W(p.that.__zoom,p.mouse[0]=St(H,d),p.mouse[1]),p.extent,o))}function V(H){y.on("mousemove.zoom mouseup.zoom",null),Hi(H.view,p.moved),Zt(H),p.event(H).end()}}function Q(h,...v){if(t.apply(this,arguments)){var d=this.__zoom,p=St(h.changedTouches?h.changedTouches[0]:h,this),y=d.invert(p),E=d.k*(h.shiftKey?.5:2),S=n(W(A(d,E),p,y),e.apply(this,v),o);Zt(h),u>0?nt(this).transition().duration(u).call(Y,S,p,h):nt(this).call(b.transform,S,p,h)}}function ut(h,...v){if(t.apply(this,arguments)){var d=h.touches,p=d.length,y=X(this,v,h.changedTouches.length===p).event(h),E,S,N,O;for(He(h),S=0;S<p;++S)N=d[S],O=St(N,this),O=[O,this.__zoom.invert(O),N.identifier],y.touch0?!y.touch1&&y.touch0[2]!==O[2]&&(y.touch1=O,y.taps=0):(y.touch0=O,E=!0,y.taps=1+!!c);c&&(c=clearTimeout(c)),E&&(y.taps<2&&(_=O[0],c=setTimeout(function(){c=null},x)),me(this),y.start())}}function et(h,...v){if(this.__zooming){var d=X(this,v).event(h),p=h.changedTouches,y=p.length,E,S,N,O;for(Zt(h),E=0;E<y;++E)S=p[E],N=St(S,this),d.touch0&&d.touch0[2]===S.identifier?d.touch0[0]=N:d.touch1&&d.touch1[2]===S.identifier&&(d.touch1[0]=N);if(S=d.that.__zoom,d.touch1){var V=d.touch0[0],H=d.touch0[1],j=d.touch1[0],G=d.touch1[1],q=(q=j[0]-V[0])*q+(q=j[1]-V[1])*q,Z=(Z=G[0]-H[0])*Z+(Z=G[1]-H[1])*Z;S=A(S,Math.sqrt(q/Z)),N=[(V[0]+j[0])/2,(V[1]+j[1])/2],O=[(H[0]+G[0])/2,(H[1]+G[1])/2]}else if(d.touch0)N=d.touch0[0],O=d.touch0[1];else return;d.zoom("touch",n(W(S,N,O),d.extent,o))}}function rt(h,...v){if(this.__zooming){var d=X(this,v).event(h),p=h.changedTouches,y=p.length,E,S;for(He(h),m&&clearTimeout(m),m=setTimeout(function(){m=null},x),E=0;E<y;++E)S=p[E],d.touch0&&d.touch0[2]===S.identifier?delete d.touch0:d.touch1&&d.touch1[2]===S.identifier&&delete d.touch1;if(d.touch1&&!d.touch0&&(d.touch0=d.touch1,delete d.touch1),d.touch0)d.touch0[1]=this.__zoom.invert(d.touch0[0]);else if(d.end(),d.taps===2&&(S=St(S,this),Math.hypot(_[0]-S[0],_[1]-S[1])<I)){var N=nt(this).on("dblclick.zoom");N&&N.apply(this,arguments)}}}return b.wheelDelta=function(h){return arguments.length?(r=typeof h=="function"?h:ye(+h),b):r},b.filter=function(h){return arguments.length?(t=typeof h=="function"?h:ye(!!h),b):t},b.touchable=function(h){return arguments.length?(i=typeof h=="function"?h:ye(!!h),b):i},b.extent=function(h){return arguments.length?(e=typeof h=="function"?h:ye([[+h[0][0],+h[0][1]],[+h[1][0],+h[1][1]]]),b):e},b.scaleExtent=function(h){return arguments.length?(a[0]=+h[0],a[1]=+h[1],b):[a[0],a[1]]},b.translateExtent=function(h){return arguments.length?(o[0][0]=+h[0][0],o[1][0]=+h[1][0],o[0][1]=+h[0][1],o[1][1]=+h[1][1],b):[[o[0][0],o[0][1]],[o[1][0],o[1][1]]]},b.constrain=function(h){return arguments.length?(n=h,b):n},b.duration=function(h){return arguments.length?(u=+h,b):u},b.interpolate=function(h){return arguments.length?(l=h,b):l},b.on=function(){var h=f.on.apply(f,arguments);return h===f?b:h},b.clickDistance=function(h){return arguments.length?(R=(h=+h)*h,b):Math.sqrt(R)},b.tapDistance=function(h){return arguments.length?(I=+h,b):I},b}const tt={DEFAULT_MIN_ZOOM:.1,DEFAULT_MAX_ZOOM:4,FIT_TO_VIEW_MAX_ZOOM:1,ZOOM_RATIO:.5,TIME_FRAME:500,INITIAL_POSITION_X:0,INITIAL_POSITION_Y:0,SCROLL_POS_RATIO:3,LAYOUT_FALLBACK:500,DEFAULT_LAYOUT:1e6,INITIAL_SCROLLBAR_SIZE:50,MIN_SCROLLBAR_SIZE:15,SCROLL_DELTA_DIFF:1.5,NODE_Y_OFFSET:110},Jt={TOP_LEFT:"top-left",TOP_RIGHT:"top-right",BOTTOM_LEFT:"bottom-left",BOTTOM_CENTER:"bottom-center"},st={...Jt,TOP_CENTER:"top-center",BOTTOM_RIGHT:"bottom-right",CENTER_LEFT:"center-left",CENTER_RIGHT:"center-right",CENTER_CENTER:"center-center"},qt=({value:t,min:e=0,max:n})=>Math.min(Math.max(t,e),n),Ma=({position:t,svgBounds:e,nodeBounds:n,currentTranslateX:r,currentTranslateY:i,currentScale:a,updatedScale:o,customOffset:u})=>{let[l,f,c]=[0,0,1];switch(o!==a&&(c=o/a,r*=c,i*=c),t){case st.TOP_LEFT:return{updatedX:r+((e.x-n.x)*c+u.x),updatedY:i+((e.y-n.y)*c+u.y)};case st.TOP_CENTER:return l=e.width/2-(n.x*c+n.width*c/2)+e.x,{updatedX:r+l+u.x,updatedY:i+((e.y-n.y)*c+u.y)};case st.TOP_RIGHT:return{updatedX:r+(e.width-(Math.abs(e.x-n.x*c)+n.width*c))+u.x,updatedY:i+((e.y-n.y)*c+u.y)};case st.CENTER_LEFT:return f=e.height/2-(Math.abs(e.y-n.y)*c+n.height*c/2),{updatedX:r+((e.x-n.x)*c+u.x),updatedY:i+f+u.y};case st.CENTER_CENTER:return l=e.width/2-(Math.abs(e.x-n.x)*c+n.width*c/2),f=e.height/2-(Math.abs(e.y-n.y)*c+n.height*c/2),{updatedX:r+l+u.x,updatedY:i+f+u.y};case st.CENTER_RIGHT:return f=e.height/2-(Math.abs(e.y-n.y)*c+n.height*c/2),{updatedX:r+(e.width-(Math.abs(e.x-n.x)*c+n.width*c))+u.x,updatedY:i+f+u.y};case st.BOTTOM_LEFT:return{updatedX:r+((e.x-n.x)*c+u.x),updatedY:i+(e.height-(Math.abs(e.y-n.y)*c+n.height*c))+u.y};case st.BOTTOM_CENTER:return l=e.width/2-(Math.abs(e.x-n.x)*c+n.width*c/2),{updatedX:r+l+u.x,updatedY:i+(e.height-(Math.abs(e.y-n.y)*c+n.height*c))+u.y};case st.BOTTOM_RIGHT:return{updatedX:r+(e.width-(Math.abs(e.x-n.x)*c+n.width*c))+u.x,updatedY:i+(e.height-(Math.abs(e.y-n.y)*c+n.height))+u.y};default:return{updatedX:r,updatedY:i}}},Hn=t=>{const[e,n]=[Math.max(t-.2,.2),t];return[tt.INITIAL_SCROLLBAR_SIZE/e,tt.INITIAL_SCROLLBAR_SIZE/n]},Ia=({isVertical:t,state:e,scrollDelta:n})=>{const r=t?e.verticalPos:e.horizontalPos,i=t?e.verticalSize:e.horizontalSize,a=t?e.verticalSizeDecrease:e.horizontalSizeDecrease,o=t?n.deltaY:n.deltaX;return{scrollPos:r,scrollSize:i,scrollSizeDecrease:a,deltaValue:o}},Un=({isVertical:t=!0,state:e,scrollDelta:n,scrollLength:r})=>{const{scrollPos:i,scrollSize:a,scrollSizeDecrease:o,deltaValue:u}=Ia({isVertical:t,state:e,scrollDelta:n}),l=u/10||0,f=u/100||0;let[c,_]=[i+l,o];if(c<1)c=0,_-=Math.abs(f);else if(c+a>r){const m=r-Math.max(tt.MIN_SCROLLBAR_SIZE,a-Math.abs(_));c=Math.min(r-(a+_),m),_-=f}else if(_!==0){const m=c>r/2;c=m?r-a:0,m?(_-=f,_<=0&&(_=0)):(_+=Math.abs(f),_>=0&&(_=0))}return[c,_]},Pa={dotSvgContainer:"_dotSvgContainer_64xbd_1"},Vn=({id:t="",size:e=1,minSize:n=.3,maxZoom:r=4,gap:i=20,zoomTransform:a={scale:1,translateX:0,translateY:0},className:o="",minOpacity:u=.8,maxOpacity:l=1,elementColor:f="#afb7c7"})=>{const{scale:c,translateX:_,translateY:m}=a,x=qt({value:c*10/(r*10),min:u,max:l}),T=i*c,R=e*c,I=Math.max(n,R),b=`patternId-${t}`;return B.jsxs("svg",{className:`${o} ${Pa.dotSvgContainer}`,children:[B.jsx("pattern",{id:b,x:_%T,y:m%T,width:T,height:T,patternUnits:"userSpaceOnUse",patternTransform:`translate(-${R},-${R})`,children:B.jsx("circle",{cx:I,cy:I,r:I,fill:f,opacity:x})}),B.jsx("rect",{x:"0",y:"0",width:"100%",height:"100%",fill:`url(#${b})`})]})},Qt={container:"_container_1xxyl_1",canvasWrapper:"_canvasWrapper_1xxyl_8",panning:"_panning_1xxyl_21",canvas:"_canvas_1xxyl_8",contentWrapper:"_contentWrapper_1xxyl_39"},Wn={verticalScrollBar:"_verticalScrollBar_17thb_1",horizontalScrollBar:"_horizontalScrollBar_17thb_9"},ka=z.forwardRef(({scale:t,startingPosition:e,offset:n={x:0,y:0},color:r="gray",thickness:i="8px",minSize:a="15px",verticalOffsetHeight:o,horizontalOffsetWidth:u,onScrollDeltaHandler:l,getContainerOffset:f},c)=>{const[_,m]=Hn(t),x=z.useRef(null),T=z.useRef(null),R=z.useRef({isDragging:!1,vertical:!0,initialOffset:0}),[I,b]=z.useState({scale:t,horizontalSize:m,horizontalPos:e?e.x:(u??0)/tt.SCROLL_POS_RATIO,horizontalSizeDecrease:0,verticalSize:_,verticalPos:e?e.y:(o??0)/tt.SCROLL_POS_RATIO,verticalSizeDecrease:0});z.useImperativeHandle(c,()=>({resetScrollPos:()=>{b(D=>({...D,horizontalPos:(u??0)/tt.SCROLL_POS_RATIO,verticalPos:(o??0)/tt.SCROLL_POS_RATIO,verticalSizeDecrease:0,horizontalSizeDecrease:0}))},onScrollDeltaChangeHandler:A,onMouseUp:L})),z.useEffect(function(){b(F=>{let $;const[Q,ut]=Hn(t),et=t/F.scale||0;return t<F.scale?$={horizontalPos:F.horizontalPos-et,verticalPos:F.verticalPos-et}:$={horizontalPos:F.horizontalPos+et,verticalPos:F.verticalPos+et},{...F,scale:t,horizontalSize:ut,verticalSize:Q,...$}})},[t]);function A(D){R.current.isDragging||b(F=>{const[$,Q]=Un({state:F,scrollDelta:D,scrollLength:o}),[ut,et]=Un({isVertical:!1,state:F,scrollDelta:D,scrollLength:u});return{...F,horizontalPos:ut,horizontalSizeDecrease:et,verticalPos:$,verticalSizeDecrease:Q}})}const W=z.useCallback(function(F,$){if(!R.current.isDragging)return;F.stopPropagation();const{movementX:Q,movementY:ut,clientX:et,clientY:rt,offsetX:h,offsetY:v}=F;R.current.initialOffset<1&&(R.current.initialOffset=$?v:h);const d=$?ut:Q,p=($?rt:et)-R.current.initialOffset-f($),y=O=>$?["verticalPos",O.verticalSize,o,n.y]:["horizontalPos",O.horizontalSize,u,n.x];b(O=>{const[V,H,j,G]=y(O);return{...O,[V]:qt({value:p,min:G,max:j-H})}});const E=()=>{const O=d>0?d+tt.SCROLL_DELTA_DIFF:d-tt.SCROLL_DELTA_DIFF;return $?{deltaX:0,deltaY:O}:{deltaX:O,deltaY:0}},S=($?o:u)-($?I.verticalSize:I.horizontalSize);!(p<=0||p>=S)&&d!==0&&l(E())},[o,u,n.y,n.x]),L=z.useCallback(function(){R.current.isDragging=!1,R.current.initialOffset=0,window.removeEventListener("mousemove",F=>W(F,R.current.vertical)),window.removeEventListener("mouseup",L)},[W]),Y=z.useCallback(function(){window.addEventListener("mousemove",F=>W(F,R.current.vertical)),window.addEventListener("mouseup",L)},[W,L]),X=D=>{D.stopPropagation()};return B.jsxs(z.Fragment,{children:[B.jsx("div",{className:Wn.verticalScrollBar,style:{width:i},ref:x,children:B.jsx("div",{"data-id":"vertical-scrollbar",style:{insetBlockStart:`${qt({value:I.verticalPos,min:n.y,max:o})}px`,height:`${I.verticalSize+I.verticalSizeDecrease}px`,background:r,minHeight:a},onMouseDownCapture:D=>{D.stopPropagation(),R.current={...R.current,isDragging:!0,vertical:!0},Y()},onDragEnterCapture:X,onDragCapture:X,onDragEndCapture:X})}),B.jsx("div",{className:Wn.horizontalScrollBar,ref:T,style:{height:i},children:B.jsx("div",{"data-id":"horizontal-scrollbar",style:{insetInlineStart:`${qt({value:I.horizontalPos,min:n.x,max:u})}px`,width:`${I.horizontalSize+I.horizontalSizeDecrease}px`,background:r,minWidth:a},onMouseDownCapture:D=>{D.stopPropagation(),R.current={...R.current,isDragging:!0,vertical:!1},Y()},onDragEnterCapture:X,onDragCapture:X,onDragEndCapture:X})})]})}),Ue=300,Da=z.forwardRef(({children:t,...e},n)=>{const r=z.useRef(null);return B.jsx(La,{innerRef:n,...e,children:B.jsx("div",{ref:r,style:{width:"max-content",height:"max-content"},children:t})})}),La=z.memo(({children:t,innerRef:e,minZoom:n=tt.DEFAULT_MIN_ZOOM,maxZoom:r=tt.DEFAULT_MAX_ZOOM,panOnScroll:i=!0,customComponents:a=[],renderScrollBar:o=!0,scrollBarConfig:u={},backgroundConfig:l={},onCanvasMount:f=()=>{},onTransform:c=()=>{},disablePanningClasses:_=[]})=>{const m=z.useRef(null),x=z.useRef(null),T=z.useRef(null),R=z.useRef(null),I=z.useRef(null),b=t.ref,A=z.useRef(null),W=z.useRef(null),L=z.useMemo(()=>Xn().scaleExtent([n,r]),[r,n]),Y=z.useRef(nt(T.current).call(L)),[X,D]=z.useState({translateX:0,translateY:0,scale:1});z.useImperativeHandle(e,()=>({scrollNodeToCenter:({nodeElement:v,offset:d,scale:p,shouldUpdateMaxScale:y,maxScale:E,transitionDuration:S})=>Q({nodeElement:v,offset:d,scale:p,shouldUpdateMaxScale:y,maxScale:E,transitionDuration:S,position:st.CENTER_CENTER}),scrollNodeHandler:Q,scrollContentHorizontallyCenter:ut,fitContentToView:$,getCanvasState:et})),z.useEffect(()=>{const v=p=>{p.code==="Space"&&(W.current=!0)},d=p=>{p.code==="Space"&&(W.current=!1)};return window.addEventListener("keydown",v),window.addEventListener("keyup",d),()=>{window.removeEventListener("keydown",v),window.removeEventListener("keyup",d)}},[]),z.useEffect(function(){Y.current=nt(T.current).call(L);const d=nt(R.current);x.current=m.current?m.current.getBoundingClientRect():{},L.filter(p=>{if(p.type==="mousedown"&&!A.current&&(A.current=!0,rt()),!W.current){let y=p.target;for(;y;){if(_.filter(E=>y==null?void 0:y.classList.contains(E)).length>0)return!1;y=y.parentElement}}return p.ctrlKey||p.type!=="wheel"}).on("zoom",p=>{var O,V;((O=p.sourceEvent)==null?void 0:O.ctrlKey)===!1&&p.type==="zoom"&&((V=m.current)==null||V.classList.add(Qt.panning));const y=p.transform,{x:E,y:S,k:N}=y;R.current,D({translateX:E,translateY:S,scale:N}),d.attr("transform",y)}),L.on("end",()=>{var p;A.current=!1,(p=m.current)==null||p.classList.remove(Qt.panning)}),f({scrollNodeToCenter:({nodeElement:p,offset:y,scale:E,shouldUpdateMaxScale:S,maxScale:N,transitionDuration:O})=>Q({nodeElement:p,offset:y,scale:E,shouldUpdateMaxScale:S,maxScale:N,transitionDuration:O,position:st.CENTER_CENTER}),scrollNodeHandler:Q,scrollContentHorizontallyCenter:ut,fitContentToView:$,getCanvasState:et})},[]),z.useEffect(()=>{c(X)},[c,X]),Y.current.call(Xn).on("wheel.zoom",v=>{var p;v.preventDefault();const d=Y.current.property("__zoom").k||1;if(i&&!v.ctrlKey){const y={deltaX:v.deltaX,deltaY:v.deltaY};(p=I.current)==null||p.onScrollDeltaChangeHandler(y),F(y)}else{const y=d*Math.pow(2,-v.deltaY*.01);L.scaleTo(Y.current,y,St(v))}},{passive:!1,capture:!0});const F=v=>{const d=Y.current.property("__zoom").k||1;L.translateBy(Y.current,-(v.deltaX/d),-(v.deltaY/d))},$=z.useCallback(function({duration:d=500,offset:p={x:0,y:0},scale:y,maxZoomLimit:E=tt.FIT_TO_VIEW_MAX_ZOOM,disableVerticalCenter:S=!1}){requestIdleCallback(()=>{var xe,kt;if(!b.current)return;const N=nt(T.current),O=b.current.getBoundingClientRect(),V=Y.current.property("__zoom").k||1,H=(xe=T.current)==null?void 0:xe.getBoundingClientRect(),{width:j=0,height:G=0}=H||{},q=1/V,Z=O.width*q,ct=O.height*q,yt=G/ct,It=j/Z,wt=y??qt({value:Math.min(E,Math.min(yt,It)),min:n,max:r}),te=j-Z*wt,Pt=G-ct*wt,xt=!S&&yt>It,bt=te/2,we=xt?Pt/2:0,ee=bt+p.x,Nt=we+p.y,Ve=Bt.translate(ee,Nt).scale(wt);D({translateX:ee,translateY:Nt,scale:wt}),(kt=I.current)==null||kt.resetScrollPos(),N.transition().duration(d).call(L.transform,Ve)},{timeout:Ue})},[r,n]),Q=({nodeElement:v,offset:d={x:0,y:0},scale:p,shouldUpdateMaxScale:y=!0,maxScale:E,transitionDuration:S=300,position:N=st.TOP_CENTER})=>{requestIdleCallback(()=>{if(!v)return;const O=Y.current.property("__zoom"),{k:V,x:H,y:j}=O,G=nt(T.current),Z=(()=>{const Pt=bt=>E?Math.min(E,bt):bt;if(!p)return Pt(V);let xt=p;return y&&(xt=Math.max(p,V)),Pt(xt)})(),ct=T.current.getBoundingClientRect(),yt=v.getBoundingClientRect(),{updatedX:It,updatedY:wt}=Ma({position:N,svgBounds:ct,nodeBounds:yt,currentTranslateX:H,currentTranslateY:j,currentScale:V,updatedScale:Z,customOffset:{x:d.x,y:d.y}}),te=Bt.translate(It,wt).scale(Z);G.transition().duration(S).call(L.transform,te)},{timeout:Ue})},ut=({offset:v=0,transitionDuration:d=300})=>{b.current&&requestIdleCallback(()=>{const p=Y.current.property("__zoom"),{k:y,y:E}=p,S=nt(T.current),N=T.current.getBoundingClientRect(),O=b.current.getBoundingClientRect(),V=1/y,H=O.width*V,j=(N.width-H*y)/2+v;D({...X,translateX:j});const G=Bt.translate(j,E).scale(y);S.transition().duration(d).call(L.transform,G)},{timeout:Ue})},et=()=>({canvasNode:nt(T.current),zoomNode:nt(R.current),currentPosition:Y.current.property("__zoom"),d3Zoom:L}),rt=()=>{const v=document.body;if(v){const d=new MouseEvent("mousedown",{bubbles:!0,cancelable:!0,view:window});v.dispatchEvent(d)}},h=z.useCallback(function(d=!0){const{x:p,y}=x.current;return d?y:p},[]);return B.jsxs("div",{className:Qt.container,children:[B.jsx("div",{ref:m,className:Qt.canvasWrapper,children:B.jsx("svg",{ref:T,className:Qt.canvas,children:B.jsx("g",{ref:R,children:B.jsx("foreignObject",{x:tt.INITIAL_POSITION_X,y:tt.INITIAL_POSITION_Y,width:tt.DEFAULT_LAYOUT,height:tt.DEFAULT_LAYOUT,children:t})})})}),B.jsx(Vn,{maxZoom:r,zoomTransform:X,...l}),o&&m.current&&B.jsx(ka,{ref:I,scale:X.scale,...u,verticalOffsetHeight:m.current.offsetHeight,horizontalOffsetWidth:m.current.offsetWidth,getContainerOffset:h,onScrollDeltaHandler:F}),a.map((v,d)=>{const{component:p,position:y=Jt.BOTTOM_LEFT,offset:E={x:0,y:0},overlap:S=!0,className:N=""}=v;return B.jsx(Fa,{component:p,position:y,offset:E,overlap:S,zoomState:{...X,minZoom:n,maxZoom:r},className:N},d)})]})}),Fa=({component:t,position:e,offset:n,overlap:r,zoomState:i,className:a})=>{const o=z.useMemo(()=>{const l=Object.values(Jt).includes(e)?e:Jt.BOTTOM_LEFT,[f,c]=l.split("-");return{[c]:n.x,[f]:n.y}},[e,n]),u=z.cloneElement(t,{zoomState:i});return B.jsx("div",{style:{position:"absolute",...o,zIndex:r?20:1},className:a,children:u})};dt.Background=Vn,dt.COMPONENT_POSITIONS=Jt,dt.ReactInfiniteCanvas=Da,dt.SCROLL_NODE_POSITIONS=st,Object.defineProperty(dt,Symbol.toStringTag,{value:"Module"})});
