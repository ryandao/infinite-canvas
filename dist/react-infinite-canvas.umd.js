(function(){"use strict";try{if(typeof document<"u"){var e=document.createElement("style");e.appendChild(document.createTextNode("._dotSvgContainer_64xbd_1{position:absolute;width:100%;height:100%;inset-block-start:0;inset-inline-start:0}._container_1xxyl_1{position:relative;overflow:hidden;width:100%;height:100%}._canvasWrapper_1xxyl_8{position:relative;width:100%;height:100%;overflow:hidden;background-color:var(--kf-color-bg-gray);cursor:grab;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}._canvasWrapper_1xxyl_8._panning_1xxyl_21{cursor:grabbing}._canvas_1xxyl_8{position:relative;z-index:2;width:100%;height:100%}._canvas_1xxyl_8>div:first-of-type{position:absolute;inset-inline-start:0;inset-block-start:0;transition:transform .01s ease}._contentWrapper_1xxyl_39{position:absolute}._verticalScrollBar_17thb_1{position:absolute;inset-inline-end:2px;inset-block-start:0;inset-block-end:0;background:transparent}._horizontalScrollBar_17thb_9{position:absolute;inset-block-end:2px;inset-inline-start:0;inset-inline-end:0;background:transparent}._verticalScrollBar_17thb_1>div,._horizontalScrollBar_17thb_9>div{position:absolute;border-radius:50px;z-index:8;cursor:pointer}._verticalScrollBar_17thb_1>div{width:100%}._horizontalScrollBar_17thb_9>div{height:100%}")),document.head.appendChild(e)}}catch(t){console.error("vite-plugin-css-injected-by-js",t)}})();
(function(dt,z){typeof exports=="object"&&typeof module<"u"?z(exports,require("react")):typeof define=="function"&&define.amd?define(["exports","react"],z):(dt=typeof globalThis<"u"?globalThis:dt||self,z(dt.ReactInfiniteCanvas={},dt.React))})(this,function(dt,z){"use strict";var Ee={exports:{}},Yt={};/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Be;function rr(){if(Be)return Yt;Be=1;var t=z,e=Symbol.for("react.element"),n=Symbol.for("react.fragment"),r=Object.prototype.hasOwnProperty,i=t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,a={key:!0,ref:!0,__self:!0,__source:!0};function o(u,l,f){var c,_={},m=null,x=null;f!==void 0&&(m=""+f),l.key!==void 0&&(m=""+l.key),l.ref!==void 0&&(x=l.ref);for(c in l)r.call(l,c)&&!a.hasOwnProperty(c)&&(_[c]=l[c]);if(u&&u.defaultProps)for(c in l=u.defaultProps,l)_[c]===void 0&&(_[c]=l[c]);return{$$typeof:e,type:u,key:m,ref:x,props:_,_owner:i.current}}return Yt.Fragment=n,Yt.jsx=o,Yt.jsxs=o,Yt}var Xt={};/**
 * @license React
 * react-jsx-runtime.development.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ze;function ir(){return Ze||(Ze=1,process.env.NODE_ENV!=="production"&&function(){var t=z,e=Symbol.for("react.element"),n=Symbol.for("react.portal"),r=Symbol.for("react.fragment"),i=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),o=Symbol.for("react.provider"),u=Symbol.for("react.context"),l=Symbol.for("react.forward_ref"),f=Symbol.for("react.suspense"),c=Symbol.for("react.suspense_list"),_=Symbol.for("react.memo"),m=Symbol.for("react.lazy"),x=Symbol.for("react.offscreen"),T=Symbol.iterator,R="@@iterator";function I(s){if(s===null||typeof s!="object")return null;var g=T&&s[T]||s[R];return typeof g=="function"?g:null}var b=t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED;function A(s){{for(var g=arguments.length,w=new Array(g>1?g-1:0),C=1;C<g;C++)w[C-1]=arguments[C];W("error",s,w)}}function W(s,g,w){{var C=b.ReactDebugCurrentFrame,D=C.getStackAddendum();D!==""&&(g+="%s",w=w.concat([D]));var U=w.map(function(P){return String(P)});U.unshift("Warning: "+g),Function.prototype.apply.call(console[s],console,U)}}var F=!1,X=!1,H=!1,L=!1,Y=!1,$;$=Symbol.for("react.module.reference");function Q(s){return!!(typeof s=="string"||typeof s=="function"||s===r||s===a||Y||s===i||s===f||s===c||L||s===x||F||X||H||typeof s=="object"&&s!==null&&(s.$$typeof===m||s.$$typeof===_||s.$$typeof===o||s.$$typeof===u||s.$$typeof===l||s.$$typeof===$||s.getModuleId!==void 0))}function ut(s,g,w){var C=s.displayName;if(C)return C;var D=g.displayName||g.name||"";return D!==""?w+"("+D+")":w}function et(s){return s.displayName||"Context"}function rt(s){if(s==null)return null;if(typeof s.tag=="number"&&A("Received an unexpected object in getComponentNameFromType(). This is likely a bug in React. Please file an issue."),typeof s=="function")return s.displayName||s.name||null;if(typeof s=="string")return s;switch(s){case r:return"Fragment";case n:return"Portal";case a:return"Profiler";case i:return"StrictMode";case f:return"Suspense";case c:return"SuspenseList"}if(typeof s=="object")switch(s.$$typeof){case u:var g=s;return et(g)+".Consumer";case o:var w=s;return et(w._context)+".Provider";case l:return ut(s,s.render,"ForwardRef");case _:var C=s.displayName||null;return C!==null?C:rt(s.type)||"Memo";case m:{var D=s,U=D._payload,P=D._init;try{return rt(P(U))}catch{return null}}}return null}var h=Object.assign,v=0,d,p,y,E,S,N,O;function V(){}V.__reactDisabledLog=!0;function k(){{if(v===0){d=console.log,p=console.info,y=console.warn,E=console.error,S=console.group,N=console.groupCollapsed,O=console.groupEnd;var s={configurable:!0,enumerable:!0,value:V,writable:!0};Object.defineProperties(console,{info:s,log:s,warn:s,error:s,group:s,groupCollapsed:s,groupEnd:s})}v++}}function G(){{if(v--,v===0){var s={configurable:!0,enumerable:!0,writable:!0};Object.defineProperties(console,{log:h({},s,{value:d}),info:h({},s,{value:p}),warn:h({},s,{value:y}),error:h({},s,{value:E}),group:h({},s,{value:S}),groupCollapsed:h({},s,{value:N}),groupEnd:h({},s,{value:O})})}v<0&&A("disabledDepth fell below zero. This is a bug in React. Please file an issue.")}}var K=b.ReactCurrentDispatcher,q;function Z(s,g,w){{if(q===void 0)try{throw Error()}catch(D){var C=D.stack.trim().match(/\n( *(at )?)/);q=C&&C[1]||""}return`
`+q+s}}var ct=!1,yt;{var Pt=typeof WeakMap=="function"?WeakMap:Map;yt=new Pt}function wt(s,g){if(!s||ct)return"";{var w=yt.get(s);if(w!==void 0)return w}var C;ct=!0;var D=Error.prepareStackTrace;Error.prepareStackTrace=void 0;var U;U=K.current,K.current=null,k();try{if(g){var P=function(){throw Error()};if(Object.defineProperty(P.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(P,[])}catch(Et){C=Et}Reflect.construct(s,[],P)}else{try{P.call()}catch(Et){C=Et}s.call(P.prototype)}}else{try{throw Error()}catch(Et){C=Et}s()}}catch(Et){if(Et&&C&&typeof Et.stack=="string"){for(var M=Et.stack.split(`
`),it=C.stack.split(`
`),B=M.length-1,J=it.length-1;B>=1&&J>=0&&M[B]!==it[J];)J--;for(;B>=1&&J>=0;B--,J--)if(M[B]!==it[J]){if(B!==1||J!==1)do if(B--,J--,J<0||M[B]!==it[J]){var lt=`
`+M[B].replace(" at new "," at ");return s.displayName&&lt.includes("<anonymous>")&&(lt=lt.replace("<anonymous>",s.displayName)),typeof s=="function"&&yt.set(s,lt),lt}while(B>=1&&J>=0);break}}}finally{ct=!1,K.current=U,G(),Error.prepareStackTrace=D}var Ft=s?s.displayName||s.name:"",nr=Ft?Z(Ft):"";return typeof s=="function"&&yt.set(s,nr),nr}function te(s,g,w){return wt(s,!1)}function kt(s){var g=s.prototype;return!!(g&&g.isReactComponent)}function xt(s,g,w){if(s==null)return"";if(typeof s=="function")return wt(s,kt(s));if(typeof s=="string")return Z(s);switch(s){case f:return Z("Suspense");case c:return Z("SuspenseList")}if(typeof s=="object")switch(s.$$typeof){case l:return te(s.render);case _:return xt(s.type,g,w);case m:{var C=s,D=C._payload,U=C._init;try{return xt(U(D),g,w)}catch{}}}return""}var bt=Object.prototype.hasOwnProperty,xe={},ee=b.ReactDebugCurrentFrame;function zt(s){if(s){var g=s._owner,w=xt(s.type,s._source,g?g.type:null);ee.setExtraStackFrame(w)}else ee.setExtraStackFrame(null)}function We(s,g,w,C,D){{var U=Function.call.bind(bt);for(var P in s)if(U(s,P)){var M=void 0;try{if(typeof s[P]!="function"){var it=Error((C||"React class")+": "+w+" type `"+P+"` is invalid; it must be a function, usually from the `prop-types` package, but received `"+typeof s[P]+"`.This often happens because of typos such as `PropTypes.function` instead of `PropTypes.func`.");throw it.name="Invariant Violation",it}M=s[P](g,P,C,w,null,"SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED")}catch(B){M=B}M&&!(M instanceof Error)&&(zt(D),A("%s: type specification of %s `%s` is invalid; the type checker function must return `null` or an `Error` but returned a %s. You may have forgotten to pass an argument to the type checker creator (arrayOf, instanceOf, objectOf, oneOf, oneOfType, and shape all require an argument).",C||"React class",w,P,typeof M),zt(null)),M instanceof Error&&!(M.message in xe)&&(xe[M.message]=!0,zt(D),A("Failed %s type: %s",w,M.message),zt(null))}}}var be=Array.isArray;function Dt(s){return be(s)}function Xa(s){{var g=typeof Symbol=="function"&&Symbol.toStringTag,w=g&&s[Symbol.toStringTag]||s.constructor.name||"Object";return w}}function Ha(s){try{return jn(s),!1}catch{return!0}}function jn(s){return""+s}function Gn(s){if(Ha(s))return A("The provided key is an unsupported type %s. This value must be coerced to a string before before using it here.",Xa(s)),jn(s)}var ne=b.ReactCurrentOwner,Ua={key:!0,ref:!0,__self:!0,__source:!0},Kn,Bn,$e;$e={};function Va(s){if(bt.call(s,"ref")){var g=Object.getOwnPropertyDescriptor(s,"ref").get;if(g&&g.isReactWarning)return!1}return s.ref!==void 0}function Wa(s){if(bt.call(s,"key")){var g=Object.getOwnPropertyDescriptor(s,"key").get;if(g&&g.isReactWarning)return!1}return s.key!==void 0}function $a(s,g){if(typeof s.ref=="string"&&ne.current&&g&&ne.current.stateNode!==g){var w=rt(ne.current.type);$e[w]||(A('Component "%s" contains the string ref "%s". Support for string refs will be removed in a future major release. This case cannot be automatically converted to an arrow function. We ask you to manually fix this case by using useRef() or createRef() instead. Learn more about using refs safely here: https://reactjs.org/link/strict-mode-string-ref',rt(ne.current.type),s.ref),$e[w]=!0)}}function ja(s,g){{var w=function(){Kn||(Kn=!0,A("%s: `key` is not a prop. Trying to access it will result in `undefined` being returned. If you need to access the same value within the child component, you should pass it as a different prop. (https://reactjs.org/link/special-props)",g))};w.isReactWarning=!0,Object.defineProperty(s,"key",{get:w,configurable:!0})}}function Ga(s,g){{var w=function(){Bn||(Bn=!0,A("%s: `ref` is not a prop. Trying to access it will result in `undefined` being returned. If you need to access the same value within the child component, you should pass it as a different prop. (https://reactjs.org/link/special-props)",g))};w.isReactWarning=!0,Object.defineProperty(s,"ref",{get:w,configurable:!0})}}var Ka=function(s,g,w,C,D,U,P){var M={$$typeof:e,type:s,key:g,ref:w,props:P,_owner:U};return M._store={},Object.defineProperty(M._store,"validated",{configurable:!1,enumerable:!1,writable:!0,value:!1}),Object.defineProperty(M,"_self",{configurable:!1,enumerable:!1,writable:!1,value:C}),Object.defineProperty(M,"_source",{configurable:!1,enumerable:!1,writable:!1,value:D}),Object.freeze&&(Object.freeze(M.props),Object.freeze(M)),M};function Ba(s,g,w,C,D){{var U,P={},M=null,it=null;w!==void 0&&(Gn(w),M=""+w),Wa(g)&&(Gn(g.key),M=""+g.key),Va(g)&&(it=g.ref,$a(g,D));for(U in g)bt.call(g,U)&&!Ua.hasOwnProperty(U)&&(P[U]=g[U]);if(s&&s.defaultProps){var B=s.defaultProps;for(U in B)P[U]===void 0&&(P[U]=B[U])}if(M||it){var J=typeof s=="function"?s.displayName||s.name||"Unknown":s;M&&ja(P,J),it&&Ga(P,J)}return Ka(s,M,it,D,C,ne.current,P)}}var je=b.ReactCurrentOwner,Zn=b.ReactDebugCurrentFrame;function Lt(s){if(s){var g=s._owner,w=xt(s.type,s._source,g?g.type:null);Zn.setExtraStackFrame(w)}else Zn.setExtraStackFrame(null)}var Ge;Ge=!1;function Ke(s){return typeof s=="object"&&s!==null&&s.$$typeof===e}function Jn(){{if(je.current){var s=rt(je.current.type);if(s)return`

Check the render method of \``+s+"`."}return""}}function Za(s){return""}var qn={};function Ja(s){{var g=Jn();if(!g){var w=typeof s=="string"?s:s.displayName||s.name;w&&(g=`

Check the top-level render call using <`+w+">.")}return g}}function Qn(s,g){{if(!s._store||s._store.validated||s.key!=null)return;s._store.validated=!0;var w=Ja(g);if(qn[w])return;qn[w]=!0;var C="";s&&s._owner&&s._owner!==je.current&&(C=" It was passed a child from "+rt(s._owner.type)+"."),Lt(s),A('Each child in a list should have a unique "key" prop.%s%s See https://reactjs.org/link/warning-keys for more information.',w,C),Lt(null)}}function tr(s,g){{if(typeof s!="object")return;if(Dt(s))for(var w=0;w<s.length;w++){var C=s[w];Ke(C)&&Qn(C,g)}else if(Ke(s))s._store&&(s._store.validated=!0);else if(s){var D=I(s);if(typeof D=="function"&&D!==s.entries)for(var U=D.call(s),P;!(P=U.next()).done;)Ke(P.value)&&Qn(P.value,g)}}}function qa(s){{var g=s.type;if(g==null||typeof g=="string")return;var w;if(typeof g=="function")w=g.propTypes;else if(typeof g=="object"&&(g.$$typeof===l||g.$$typeof===_))w=g.propTypes;else return;if(w){var C=rt(g);We(w,s.props,"prop",C,s)}else if(g.PropTypes!==void 0&&!Ge){Ge=!0;var D=rt(g);A("Component %s declared `PropTypes` instead of `propTypes`. Did you misspell the property assignment?",D||"Unknown")}typeof g.getDefaultProps=="function"&&!g.getDefaultProps.isReactClassApproved&&A("getDefaultProps is only used on classic React.createClass definitions. Use a static property named `defaultProps` instead.")}}function Qa(s){{for(var g=Object.keys(s.props),w=0;w<g.length;w++){var C=g[w];if(C!=="children"&&C!=="key"){Lt(s),A("Invalid prop `%s` supplied to `React.Fragment`. React.Fragment can only have `key` and `children` props.",C),Lt(null);break}}s.ref!==null&&(Lt(s),A("Invalid attribute `ref` supplied to `React.Fragment`."),Lt(null))}}function er(s,g,w,C,D,U){{var P=Q(s);if(!P){var M="";(s===void 0||typeof s=="object"&&s!==null&&Object.keys(s).length===0)&&(M+=" You likely forgot to export your component from the file it's defined in, or you might have mixed up default and named imports.");var it=Za();it?M+=it:M+=Jn();var B;s===null?B="null":Dt(s)?B="array":s!==void 0&&s.$$typeof===e?(B="<"+(rt(s.type)||"Unknown")+" />",M=" Did you accidentally export a JSX literal instead of a component?"):B=typeof s,A("React.jsx: type is invalid -- expected a string (for built-in components) or a class/function (for composite components) but got: %s.%s",B,M)}var J=Ba(s,g,w,D,U);if(J==null)return J;if(P){var lt=g.children;if(lt!==void 0)if(C)if(Dt(lt)){for(var Ft=0;Ft<lt.length;Ft++)tr(lt[Ft],s);Object.freeze&&Object.freeze(lt)}else A("React.jsx: Static children should always be an array. You are likely explicitly calling React.jsxs or React.jsxDEV. Use the Babel transform instead.");else tr(lt,s)}return s===r?Qa(J):qa(J),J}}function ts(s,g,w){return er(s,g,w,!0)}function es(s,g,w){return er(s,g,w,!1)}var ns=es,rs=ts;Xt.Fragment=r,Xt.jsx=ns,Xt.jsxs=rs}()),Xt}process.env.NODE_ENV==="production"?Ee.exports=rr():Ee.exports=ir();var j=Ee.exports,Se="http://www.w3.org/1999/xhtml";const Je={svg:"http://www.w3.org/2000/svg",xhtml:Se,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function re(t){var e=t+="",n=e.indexOf(":");return n>=0&&(e=t.slice(0,n))!=="xmlns"&&(t=t.slice(n+1)),Je.hasOwnProperty(e)?{space:Je[e],local:t}:t}function or(t){return function(){var e=this.ownerDocument,n=this.namespaceURI;return n===Se&&e.documentElement.namespaceURI===Se?e.createElement(t):e.createElementNS(n,t)}}function ar(t){return function(){return this.ownerDocument.createElementNS(t.space,t.local)}}function qe(t){var e=re(t);return(e.local?ar:or)(e)}function sr(){}function Re(t){return t==null?sr:function(){return this.querySelector(t)}}function ur(t){typeof t!="function"&&(t=Re(t));for(var e=this._groups,n=e.length,r=new Array(n),i=0;i<n;++i)for(var a=e[i],o=a.length,u=r[i]=new Array(o),l,f,c=0;c<o;++c)(l=a[c])&&(f=t.call(l,l.__data__,c,a))&&("__data__"in l&&(f.__data__=l.__data__),u[c]=f);return new at(r,this._parents)}function cr(t){return t==null?[]:Array.isArray(t)?t:Array.from(t)}function lr(){return[]}function Qe(t){return t==null?lr:function(){return this.querySelectorAll(t)}}function fr(t){return function(){return cr(t.apply(this,arguments))}}function hr(t){typeof t=="function"?t=fr(t):t=Qe(t);for(var e=this._groups,n=e.length,r=[],i=[],a=0;a<n;++a)for(var o=e[a],u=o.length,l,f=0;f<u;++f)(l=o[f])&&(r.push(t.call(l,l.__data__,f,o)),i.push(l));return new at(r,i)}function tn(t){return function(){return this.matches(t)}}function en(t){return function(e){return e.matches(t)}}var dr=Array.prototype.find;function pr(t){return function(){return dr.call(this.children,t)}}function _r(){return this.firstElementChild}function gr(t){return this.select(t==null?_r:pr(typeof t=="function"?t:en(t)))}var vr=Array.prototype.filter;function mr(){return Array.from(this.children)}function yr(t){return function(){return vr.call(this.children,t)}}function wr(t){return this.selectAll(t==null?mr:yr(typeof t=="function"?t:en(t)))}function xr(t){typeof t!="function"&&(t=tn(t));for(var e=this._groups,n=e.length,r=new Array(n),i=0;i<n;++i)for(var a=e[i],o=a.length,u=r[i]=[],l,f=0;f<o;++f)(l=a[f])&&t.call(l,l.__data__,f,a)&&u.push(l);return new at(r,this._parents)}function nn(t){return new Array(t.length)}function br(){return new at(this._enter||this._groups.map(nn),this._parents)}function ie(t,e){this.ownerDocument=t.ownerDocument,this.namespaceURI=t.namespaceURI,this._next=null,this._parent=t,this.__data__=e}ie.prototype={constructor:ie,appendChild:function(t){return this._parent.insertBefore(t,this._next)},insertBefore:function(t,e){return this._parent.insertBefore(t,e)},querySelector:function(t){return this._parent.querySelector(t)},querySelectorAll:function(t){return this._parent.querySelectorAll(t)}};function Er(t){return function(){return t}}function Sr(t,e,n,r,i,a){for(var o=0,u,l=e.length,f=a.length;o<f;++o)(u=e[o])?(u.__data__=a[o],r[o]=u):n[o]=new ie(t,a[o]);for(;o<l;++o)(u=e[o])&&(i[o]=u)}function Rr(t,e,n,r,i,a,o){var u,l,f=new Map,c=e.length,_=a.length,m=new Array(c),x;for(u=0;u<c;++u)(l=e[u])&&(m[u]=x=o.call(l,l.__data__,u,e)+"",f.has(x)?i[u]=l:f.set(x,l));for(u=0;u<_;++u)x=o.call(t,a[u],u,a)+"",(l=f.get(x))?(r[u]=l,l.__data__=a[u],f.delete(x)):n[u]=new ie(t,a[u]);for(u=0;u<c;++u)(l=e[u])&&f.get(m[u])===l&&(i[u]=l)}function Tr(t){return t.__data__}function Cr(t,e){if(!arguments.length)return Array.from(this,Tr);var n=e?Rr:Sr,r=this._parents,i=this._groups;typeof t!="function"&&(t=Er(t));for(var a=i.length,o=new Array(a),u=new Array(a),l=new Array(a),f=0;f<a;++f){var c=r[f],_=i[f],m=_.length,x=Or(t.call(c,c&&c.__data__,f,r)),T=x.length,R=u[f]=new Array(T),I=o[f]=new Array(T),b=l[f]=new Array(m);n(c,_,R,I,b,x,e);for(var A=0,W=0,F,X;A<T;++A)if(F=R[A]){for(A>=W&&(W=A+1);!(X=I[W])&&++W<T;);F._next=X||null}}return o=new at(o,r),o._enter=u,o._exit=l,o}function Or(t){return typeof t=="object"&&"length"in t?t:Array.from(t)}function Nr(){return new at(this._exit||this._groups.map(nn),this._parents)}function zr(t,e,n){var r=this.enter(),i=this,a=this.exit();return typeof t=="function"?(r=t(r),r&&(r=r.selection())):r=r.append(t+""),e!=null&&(i=e(i),i&&(i=i.selection())),n==null?a.remove():n(a),r&&i?r.merge(i).order():i}function Ar(t){for(var e=t.selection?t.selection():t,n=this._groups,r=e._groups,i=n.length,a=r.length,o=Math.min(i,a),u=new Array(i),l=0;l<o;++l)for(var f=n[l],c=r[l],_=f.length,m=u[l]=new Array(_),x,T=0;T<_;++T)(x=f[T]||c[T])&&(m[T]=x);for(;l<i;++l)u[l]=n[l];return new at(u,this._parents)}function Mr(){for(var t=this._groups,e=-1,n=t.length;++e<n;)for(var r=t[e],i=r.length-1,a=r[i],o;--i>=0;)(o=r[i])&&(a&&o.compareDocumentPosition(a)^4&&a.parentNode.insertBefore(o,a),a=o);return this}function Ir(t){t||(t=Pr);function e(_,m){return _&&m?t(_.__data__,m.__data__):!_-!m}for(var n=this._groups,r=n.length,i=new Array(r),a=0;a<r;++a){for(var o=n[a],u=o.length,l=i[a]=new Array(u),f,c=0;c<u;++c)(f=o[c])&&(l[c]=f);l.sort(e)}return new at(i,this._parents).order()}function Pr(t,e){return t<e?-1:t>e?1:t>=e?0:NaN}function kr(){var t=arguments[0];return arguments[0]=this,t.apply(null,arguments),this}function Dr(){return Array.from(this)}function Lr(){for(var t=this._groups,e=0,n=t.length;e<n;++e)for(var r=t[e],i=0,a=r.length;i<a;++i){var o=r[i];if(o)return o}return null}function Fr(){let t=0;for(const e of this)++t;return t}function Yr(){return!this.node()}function Xr(t){for(var e=this._groups,n=0,r=e.length;n<r;++n)for(var i=e[n],a=0,o=i.length,u;a<o;++a)(u=i[a])&&t.call(u,u.__data__,a,i);return this}function Hr(t){return function(){this.removeAttribute(t)}}function Ur(t){return function(){this.removeAttributeNS(t.space,t.local)}}function Vr(t,e){return function(){this.setAttribute(t,e)}}function Wr(t,e){return function(){this.setAttributeNS(t.space,t.local,e)}}function $r(t,e){return function(){var n=e.apply(this,arguments);n==null?this.removeAttribute(t):this.setAttribute(t,n)}}function jr(t,e){return function(){var n=e.apply(this,arguments);n==null?this.removeAttributeNS(t.space,t.local):this.setAttributeNS(t.space,t.local,n)}}function Gr(t,e){var n=re(t);if(arguments.length<2){var r=this.node();return n.local?r.getAttributeNS(n.space,n.local):r.getAttribute(n)}return this.each((e==null?n.local?Ur:Hr:typeof e=="function"?n.local?jr:$r:n.local?Wr:Vr)(n,e))}function rn(t){return t.ownerDocument&&t.ownerDocument.defaultView||t.document&&t||t.defaultView}function Kr(t){return function(){this.style.removeProperty(t)}}function Br(t,e,n){return function(){this.style.setProperty(t,e,n)}}function Zr(t,e,n){return function(){var r=e.apply(this,arguments);r==null?this.style.removeProperty(t):this.style.setProperty(t,r,n)}}function Jr(t,e,n){return arguments.length>1?this.each((e==null?Kr:typeof e=="function"?Zr:Br)(t,e,n??"")):At(this.node(),t)}function At(t,e){return t.style.getPropertyValue(e)||rn(t).getComputedStyle(t,null).getPropertyValue(e)}function qr(t){return function(){delete this[t]}}function Qr(t,e){return function(){this[t]=e}}function ti(t,e){return function(){var n=e.apply(this,arguments);n==null?delete this[t]:this[t]=n}}function ei(t,e){return arguments.length>1?this.each((e==null?qr:typeof e=="function"?ti:Qr)(t,e)):this.node()[t]}function on(t){return t.trim().split(/^|\s+/)}function Te(t){return t.classList||new an(t)}function an(t){this._node=t,this._names=on(t.getAttribute("class")||"")}an.prototype={add:function(t){var e=this._names.indexOf(t);e<0&&(this._names.push(t),this._node.setAttribute("class",this._names.join(" ")))},remove:function(t){var e=this._names.indexOf(t);e>=0&&(this._names.splice(e,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(t){return this._names.indexOf(t)>=0}};function sn(t,e){for(var n=Te(t),r=-1,i=e.length;++r<i;)n.add(e[r])}function un(t,e){for(var n=Te(t),r=-1,i=e.length;++r<i;)n.remove(e[r])}function ni(t){return function(){sn(this,t)}}function ri(t){return function(){un(this,t)}}function ii(t,e){return function(){(e.apply(this,arguments)?sn:un)(this,t)}}function oi(t,e){var n=on(t+"");if(arguments.length<2){for(var r=Te(this.node()),i=-1,a=n.length;++i<a;)if(!r.contains(n[i]))return!1;return!0}return this.each((typeof e=="function"?ii:e?ni:ri)(n,e))}function ai(){this.textContent=""}function si(t){return function(){this.textContent=t}}function ui(t){return function(){var e=t.apply(this,arguments);this.textContent=e??""}}function ci(t){return arguments.length?this.each(t==null?ai:(typeof t=="function"?ui:si)(t)):this.node().textContent}function li(){this.innerHTML=""}function fi(t){return function(){this.innerHTML=t}}function hi(t){return function(){var e=t.apply(this,arguments);this.innerHTML=e??""}}function di(t){return arguments.length?this.each(t==null?li:(typeof t=="function"?hi:fi)(t)):this.node().innerHTML}function pi(){this.nextSibling&&this.parentNode.appendChild(this)}function _i(){return this.each(pi)}function gi(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function vi(){return this.each(gi)}function mi(t){var e=typeof t=="function"?t:qe(t);return this.select(function(){return this.appendChild(e.apply(this,arguments))})}function yi(){return null}function wi(t,e){var n=typeof t=="function"?t:qe(t),r=e==null?yi:typeof e=="function"?e:Re(e);return this.select(function(){return this.insertBefore(n.apply(this,arguments),r.apply(this,arguments)||null)})}function xi(){var t=this.parentNode;t&&t.removeChild(this)}function bi(){return this.each(xi)}function Ei(){var t=this.cloneNode(!1),e=this.parentNode;return e?e.insertBefore(t,this.nextSibling):t}function Si(){var t=this.cloneNode(!0),e=this.parentNode;return e?e.insertBefore(t,this.nextSibling):t}function Ri(t){return this.select(t?Si:Ei)}function Ti(t){return arguments.length?this.property("__data__",t):this.node().__data__}function Ci(t){return function(e){t.call(this,e,this.__data__)}}function Oi(t){return t.trim().split(/^|\s+/).map(function(e){var n="",r=e.indexOf(".");return r>=0&&(n=e.slice(r+1),e=e.slice(0,r)),{type:e,name:n}})}function Ni(t){return function(){var e=this.__on;if(e){for(var n=0,r=-1,i=e.length,a;n<i;++n)a=e[n],(!t.type||a.type===t.type)&&a.name===t.name?this.removeEventListener(a.type,a.listener,a.options):e[++r]=a;++r?e.length=r:delete this.__on}}}function zi(t,e,n){return function(){var r=this.__on,i,a=Ci(e);if(r){for(var o=0,u=r.length;o<u;++o)if((i=r[o]).type===t.type&&i.name===t.name){this.removeEventListener(i.type,i.listener,i.options),this.addEventListener(i.type,i.listener=a,i.options=n),i.value=e;return}}this.addEventListener(t.type,a,n),i={type:t.type,name:t.name,value:e,listener:a,options:n},r?r.push(i):this.__on=[i]}}function Ai(t,e,n){var r=Oi(t+""),i,a=r.length,o;if(arguments.length<2){var u=this.node().__on;if(u){for(var l=0,f=u.length,c;l<f;++l)for(i=0,c=u[l];i<a;++i)if((o=r[i]).type===c.type&&o.name===c.name)return c.value}return}for(u=e?zi:Ni,i=0;i<a;++i)this.each(u(r[i],e,n));return this}function cn(t,e,n){var r=rn(t),i=r.CustomEvent;typeof i=="function"?i=new i(e,n):(i=r.document.createEvent("Event"),n?(i.initEvent(e,n.bubbles,n.cancelable),i.detail=n.detail):i.initEvent(e,!1,!1)),t.dispatchEvent(i)}function Mi(t,e){return function(){return cn(this,t,e)}}function Ii(t,e){return function(){return cn(this,t,e.apply(this,arguments))}}function Pi(t,e){return this.each((typeof e=="function"?Ii:Mi)(t,e))}function*ki(){for(var t=this._groups,e=0,n=t.length;e<n;++e)for(var r=t[e],i=0,a=r.length,o;i<a;++i)(o=r[i])&&(yield o)}var ln=[null];function at(t,e){this._groups=t,this._parents=e}function Ht(){return new at([[document.documentElement]],ln)}function Di(){return this}at.prototype=Ht.prototype={constructor:at,select:ur,selectAll:hr,selectChild:gr,selectChildren:wr,filter:xr,data:Cr,enter:br,exit:Nr,join:zr,merge:Ar,selection:Di,order:Mr,sort:Ir,call:kr,nodes:Dr,node:Lr,size:Fr,empty:Yr,each:Xr,attr:Gr,style:Jr,property:ei,classed:oi,text:ci,html:di,raise:_i,lower:vi,append:mi,insert:wi,remove:bi,clone:Ri,datum:Ti,on:Ai,dispatch:Pi,[Symbol.iterator]:ki};function nt(t){return typeof t=="string"?new at([[document.querySelector(t)]],[document.documentElement]):new at([[t]],ln)}function Li(t){let e;for(;e=t.sourceEvent;)t=e;return t}function St(t,e){if(t=Li(t),e===void 0&&(e=t.currentTarget),e){var n=e.ownerSVGElement||e;if(n.createSVGPoint){var r=n.createSVGPoint();return r.x=t.clientX,r.y=t.clientY,r=r.matrixTransform(e.getScreenCTM().inverse()),[r.x,r.y]}if(e.getBoundingClientRect){var i=e.getBoundingClientRect();return[t.clientX-i.left-e.clientLeft,t.clientY-i.top-e.clientTop]}}return[t.pageX,t.pageY]}var Fi={value:()=>{}};function Ce(){for(var t=0,e=arguments.length,n={},r;t<e;++t){if(!(r=arguments[t]+"")||r in n||/[\s.]/.test(r))throw new Error("illegal type: "+r);n[r]=[]}return new oe(n)}function oe(t){this._=t}function Yi(t,e){return t.trim().split(/^|\s+/).map(function(n){var r="",i=n.indexOf(".");if(i>=0&&(r=n.slice(i+1),n=n.slice(0,i)),n&&!e.hasOwnProperty(n))throw new Error("unknown type: "+n);return{type:n,name:r}})}oe.prototype=Ce.prototype={constructor:oe,on:function(t,e){var n=this._,r=Yi(t+"",n),i,a=-1,o=r.length;if(arguments.length<2){for(;++a<o;)if((i=(t=r[a]).type)&&(i=Xi(n[i],t.name)))return i;return}if(e!=null&&typeof e!="function")throw new Error("invalid callback: "+e);for(;++a<o;)if(i=(t=r[a]).type)n[i]=fn(n[i],t.name,e);else if(e==null)for(i in n)n[i]=fn(n[i],t.name,null);return this},copy:function(){var t={},e=this._;for(var n in e)t[n]=e[n].slice();return new oe(t)},call:function(t,e){if((i=arguments.length-2)>0)for(var n=new Array(i),r=0,i,a;r<i;++r)n[r]=arguments[r+2];if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(a=this._[t],r=0,i=a.length;r<i;++r)a[r].value.apply(e,n)},apply:function(t,e,n){if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(var r=this._[t],i=0,a=r.length;i<a;++i)r[i].value.apply(e,n)}};function Xi(t,e){for(var n=0,r=t.length,i;n<r;++n)if((i=t[n]).name===e)return i.value}function fn(t,e,n){for(var r=0,i=t.length;r<i;++r)if(t[r].name===e){t[r]=Fi,t=t.slice(0,r).concat(t.slice(r+1));break}return n!=null&&t.push({name:e,value:n}),t}const Oe={capture:!0,passive:!1};function Ne(t){t.preventDefault(),t.stopImmediatePropagation()}function Hi(t){var e=t.document.documentElement,n=nt(t).on("dragstart.drag",Ne,Oe);"onselectstart"in e?n.on("selectstart.drag",Ne,Oe):(e.__noselect=e.style.MozUserSelect,e.style.MozUserSelect="none")}function Ui(t,e){var n=t.document.documentElement,r=nt(t).on("dragstart.drag",null);e&&(r.on("click.drag",Ne,Oe),setTimeout(function(){r.on("click.drag",null)},0)),"onselectstart"in n?r.on("selectstart.drag",null):(n.style.MozUserSelect=n.__noselect,delete n.__noselect)}function ze(t,e,n){t.prototype=e.prototype=n,n.constructor=t}function hn(t,e){var n=Object.create(t.prototype);for(var r in e)n[r]=e[r];return n}function Ut(){}var Vt=.7,ae=1/Vt,Mt="\\s*([+-]?\\d+)\\s*",Wt="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",pt="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",Vi=/^#([0-9a-f]{3,8})$/,Wi=new RegExp(`^rgb\\(${Mt},${Mt},${Mt}\\)$`),$i=new RegExp(`^rgb\\(${pt},${pt},${pt}\\)$`),ji=new RegExp(`^rgba\\(${Mt},${Mt},${Mt},${Wt}\\)$`),Gi=new RegExp(`^rgba\\(${pt},${pt},${pt},${Wt}\\)$`),Ki=new RegExp(`^hsl\\(${Wt},${pt},${pt}\\)$`),Bi=new RegExp(`^hsla\\(${Wt},${pt},${pt},${Wt}\\)$`),dn={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};ze(Ut,$t,{copy(t){return Object.assign(new this.constructor,this,t)},displayable(){return this.rgb().displayable()},hex:pn,formatHex:pn,formatHex8:Zi,formatHsl:Ji,formatRgb:_n,toString:_n});function pn(){return this.rgb().formatHex()}function Zi(){return this.rgb().formatHex8()}function Ji(){return wn(this).formatHsl()}function _n(){return this.rgb().formatRgb()}function $t(t){var e,n;return t=(t+"").trim().toLowerCase(),(e=Vi.exec(t))?(n=e[1].length,e=parseInt(e[1],16),n===6?gn(e):n===3?new ot(e>>8&15|e>>4&240,e>>4&15|e&240,(e&15)<<4|e&15,1):n===8?se(e>>24&255,e>>16&255,e>>8&255,(e&255)/255):n===4?se(e>>12&15|e>>8&240,e>>8&15|e>>4&240,e>>4&15|e&240,((e&15)<<4|e&15)/255):null):(e=Wi.exec(t))?new ot(e[1],e[2],e[3],1):(e=$i.exec(t))?new ot(e[1]*255/100,e[2]*255/100,e[3]*255/100,1):(e=ji.exec(t))?se(e[1],e[2],e[3],e[4]):(e=Gi.exec(t))?se(e[1]*255/100,e[2]*255/100,e[3]*255/100,e[4]):(e=Ki.exec(t))?yn(e[1],e[2]/100,e[3]/100,1):(e=Bi.exec(t))?yn(e[1],e[2]/100,e[3]/100,e[4]):dn.hasOwnProperty(t)?gn(dn[t]):t==="transparent"?new ot(NaN,NaN,NaN,0):null}function gn(t){return new ot(t>>16&255,t>>8&255,t&255,1)}function se(t,e,n,r){return r<=0&&(t=e=n=NaN),new ot(t,e,n,r)}function qi(t){return t instanceof Ut||(t=$t(t)),t?(t=t.rgb(),new ot(t.r,t.g,t.b,t.opacity)):new ot}function Ae(t,e,n,r){return arguments.length===1?qi(t):new ot(t,e,n,r??1)}function ot(t,e,n,r){this.r=+t,this.g=+e,this.b=+n,this.opacity=+r}ze(ot,Ae,hn(Ut,{brighter(t){return t=t==null?ae:Math.pow(ae,t),new ot(this.r*t,this.g*t,this.b*t,this.opacity)},darker(t){return t=t==null?Vt:Math.pow(Vt,t),new ot(this.r*t,this.g*t,this.b*t,this.opacity)},rgb(){return this},clamp(){return new ot(Tt(this.r),Tt(this.g),Tt(this.b),ue(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:vn,formatHex:vn,formatHex8:Qi,formatRgb:mn,toString:mn}));function vn(){return`#${Ct(this.r)}${Ct(this.g)}${Ct(this.b)}`}function Qi(){return`#${Ct(this.r)}${Ct(this.g)}${Ct(this.b)}${Ct((isNaN(this.opacity)?1:this.opacity)*255)}`}function mn(){const t=ue(this.opacity);return`${t===1?"rgb(":"rgba("}${Tt(this.r)}, ${Tt(this.g)}, ${Tt(this.b)}${t===1?")":`, ${t})`}`}function ue(t){return isNaN(t)?1:Math.max(0,Math.min(1,t))}function Tt(t){return Math.max(0,Math.min(255,Math.round(t)||0))}function Ct(t){return t=Tt(t),(t<16?"0":"")+t.toString(16)}function yn(t,e,n,r){return r<=0?t=e=n=NaN:n<=0||n>=1?t=e=NaN:e<=0&&(t=NaN),new ft(t,e,n,r)}function wn(t){if(t instanceof ft)return new ft(t.h,t.s,t.l,t.opacity);if(t instanceof Ut||(t=$t(t)),!t)return new ft;if(t instanceof ft)return t;t=t.rgb();var e=t.r/255,n=t.g/255,r=t.b/255,i=Math.min(e,n,r),a=Math.max(e,n,r),o=NaN,u=a-i,l=(a+i)/2;return u?(e===a?o=(n-r)/u+(n<r)*6:n===a?o=(r-e)/u+2:o=(e-n)/u+4,u/=l<.5?a+i:2-a-i,o*=60):u=l>0&&l<1?0:o,new ft(o,u,l,t.opacity)}function to(t,e,n,r){return arguments.length===1?wn(t):new ft(t,e,n,r??1)}function ft(t,e,n,r){this.h=+t,this.s=+e,this.l=+n,this.opacity=+r}ze(ft,to,hn(Ut,{brighter(t){return t=t==null?ae:Math.pow(ae,t),new ft(this.h,this.s,this.l*t,this.opacity)},darker(t){return t=t==null?Vt:Math.pow(Vt,t),new ft(this.h,this.s,this.l*t,this.opacity)},rgb(){var t=this.h%360+(this.h<0)*360,e=isNaN(t)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*e,i=2*n-r;return new ot(Me(t>=240?t-240:t+120,i,r),Me(t,i,r),Me(t<120?t+240:t-120,i,r),this.opacity)},clamp(){return new ft(xn(this.h),ce(this.s),ce(this.l),ue(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const t=ue(this.opacity);return`${t===1?"hsl(":"hsla("}${xn(this.h)}, ${ce(this.s)*100}%, ${ce(this.l)*100}%${t===1?")":`, ${t})`}`}}));function xn(t){return t=(t||0)%360,t<0?t+360:t}function ce(t){return Math.max(0,Math.min(1,t||0))}function Me(t,e,n){return(t<60?e+(n-e)*t/60:t<180?n:t<240?e+(n-e)*(240-t)/60:e)*255}const bn=t=>()=>t;function eo(t,e){return function(n){return t+n*e}}function no(t,e,n){return t=Math.pow(t,n),e=Math.pow(e,n)-t,n=1/n,function(r){return Math.pow(t+r*e,n)}}function ro(t){return(t=+t)==1?En:function(e,n){return n-e?no(e,n,t):bn(isNaN(e)?n:e)}}function En(t,e){var n=e-t;return n?eo(t,n):bn(isNaN(t)?e:t)}const Sn=function t(e){var n=ro(e);function r(i,a){var o=n((i=Ae(i)).r,(a=Ae(a)).r),u=n(i.g,a.g),l=n(i.b,a.b),f=En(i.opacity,a.opacity);return function(c){return i.r=o(c),i.g=u(c),i.b=l(c),i.opacity=f(c),i+""}}return r.gamma=t,r}(1);function Rt(t,e){return t=+t,e=+e,function(n){return t*(1-n)+e*n}}var Ie=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,Pe=new RegExp(Ie.source,"g");function io(t){return function(){return t}}function oo(t){return function(e){return t(e)+""}}function ao(t,e){var n=Ie.lastIndex=Pe.lastIndex=0,r,i,a,o=-1,u=[],l=[];for(t=t+"",e=e+"";(r=Ie.exec(t))&&(i=Pe.exec(e));)(a=i.index)>n&&(a=e.slice(n,a),u[o]?u[o]+=a:u[++o]=a),(r=r[0])===(i=i[0])?u[o]?u[o]+=i:u[++o]=i:(u[++o]=null,l.push({i:o,x:Rt(r,i)})),n=Pe.lastIndex;return n<e.length&&(a=e.slice(n),u[o]?u[o]+=a:u[++o]=a),u.length<2?l[0]?oo(l[0].x):io(e):(e=l.length,function(f){for(var c=0,_;c<e;++c)u[(_=l[c]).i]=_.x(f);return u.join("")})}var Rn=180/Math.PI,ke={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function Tn(t,e,n,r,i,a){var o,u,l;return(o=Math.sqrt(t*t+e*e))&&(t/=o,e/=o),(l=t*n+e*r)&&(n-=t*l,r-=e*l),(u=Math.sqrt(n*n+r*r))&&(n/=u,r/=u,l/=u),t*r<e*n&&(t=-t,e=-e,l=-l,o=-o),{translateX:i,translateY:a,rotate:Math.atan2(e,t)*Rn,skewX:Math.atan(l)*Rn,scaleX:o,scaleY:u}}var le;function so(t){const e=new(typeof DOMMatrix=="function"?DOMMatrix:WebKitCSSMatrix)(t+"");return e.isIdentity?ke:Tn(e.a,e.b,e.c,e.d,e.e,e.f)}function uo(t){return t==null||(le||(le=document.createElementNS("http://www.w3.org/2000/svg","g")),le.setAttribute("transform",t),!(t=le.transform.baseVal.consolidate()))?ke:(t=t.matrix,Tn(t.a,t.b,t.c,t.d,t.e,t.f))}function Cn(t,e,n,r){function i(f){return f.length?f.pop()+" ":""}function a(f,c,_,m,x,T){if(f!==_||c!==m){var R=x.push("translate(",null,e,null,n);T.push({i:R-4,x:Rt(f,_)},{i:R-2,x:Rt(c,m)})}else(_||m)&&x.push("translate("+_+e+m+n)}function o(f,c,_,m){f!==c?(f-c>180?c+=360:c-f>180&&(f+=360),m.push({i:_.push(i(_)+"rotate(",null,r)-2,x:Rt(f,c)})):c&&_.push(i(_)+"rotate("+c+r)}function u(f,c,_,m){f!==c?m.push({i:_.push(i(_)+"skewX(",null,r)-2,x:Rt(f,c)}):c&&_.push(i(_)+"skewX("+c+r)}function l(f,c,_,m,x,T){if(f!==_||c!==m){var R=x.push(i(x)+"scale(",null,",",null,")");T.push({i:R-4,x:Rt(f,_)},{i:R-2,x:Rt(c,m)})}else(_!==1||m!==1)&&x.push(i(x)+"scale("+_+","+m+")")}return function(f,c){var _=[],m=[];return f=t(f),c=t(c),a(f.translateX,f.translateY,c.translateX,c.translateY,_,m),o(f.rotate,c.rotate,_,m),u(f.skewX,c.skewX,_,m),l(f.scaleX,f.scaleY,c.scaleX,c.scaleY,_,m),f=c=null,function(x){for(var T=-1,R=m.length,I;++T<R;)_[(I=m[T]).i]=I.x(x);return _.join("")}}}var co=Cn(so,"px, ","px)","deg)"),lo=Cn(uo,", ",")",")"),fo=1e-12;function On(t){return((t=Math.exp(t))+1/t)/2}function ho(t){return((t=Math.exp(t))-1/t)/2}function po(t){return((t=Math.exp(2*t))-1)/(t+1)}const _o=function t(e,n,r){function i(a,o){var u=a[0],l=a[1],f=a[2],c=o[0],_=o[1],m=o[2],x=c-u,T=_-l,R=x*x+T*T,I,b;if(R<fo)b=Math.log(m/f)/e,I=function(L){return[u+L*x,l+L*T,f*Math.exp(e*L*b)]};else{var A=Math.sqrt(R),W=(m*m-f*f+r*R)/(2*f*n*A),F=(m*m-f*f-r*R)/(2*m*n*A),X=Math.log(Math.sqrt(W*W+1)-W),H=Math.log(Math.sqrt(F*F+1)-F);b=(H-X)/e,I=function(L){var Y=L*b,$=On(X),Q=f/(n*A)*($*po(e*Y+X)-ho(X));return[u+Q*x,l+Q*T,f*$/On(e*Y+X)]}}return I.duration=b*1e3*e/Math.SQRT2,I}return i.rho=function(a){var o=Math.max(.001,+a),u=o*o,l=u*u;return t(o,u,l)},i}(Math.SQRT2,2,4);var It=0,jt=0,Gt=0,Nn=1e3,fe,Kt,he=0,Ot=0,de=0,Bt=typeof performance=="object"&&performance.now?performance:Date,zn=typeof window=="object"&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(t){setTimeout(t,17)};function De(){return Ot||(zn(go),Ot=Bt.now()+de)}function go(){Ot=0}function pe(){this._call=this._time=this._next=null}pe.prototype=An.prototype={constructor:pe,restart:function(t,e,n){if(typeof t!="function")throw new TypeError("callback is not a function");n=(n==null?De():+n)+(e==null?0:+e),!this._next&&Kt!==this&&(Kt?Kt._next=this:fe=this,Kt=this),this._call=t,this._time=n,Le()},stop:function(){this._call&&(this._call=null,this._time=1/0,Le())}};function An(t,e,n){var r=new pe;return r.restart(t,e,n),r}function vo(){De(),++It;for(var t=fe,e;t;)(e=Ot-t._time)>=0&&t._call.call(void 0,e),t=t._next;--It}function Mn(){Ot=(he=Bt.now())+de,It=jt=0;try{vo()}finally{It=0,yo(),Ot=0}}function mo(){var t=Bt.now(),e=t-he;e>Nn&&(de-=e,he=t)}function yo(){for(var t,e=fe,n,r=1/0;e;)e._call?(r>e._time&&(r=e._time),t=e,e=e._next):(n=e._next,e._next=null,e=t?t._next=n:fe=n);Kt=t,Le(r)}function Le(t){if(!It){jt&&(jt=clearTimeout(jt));var e=t-Ot;e>24?(t<1/0&&(jt=setTimeout(Mn,t-Bt.now()-de)),Gt&&(Gt=clearInterval(Gt))):(Gt||(he=Bt.now(),Gt=setInterval(mo,Nn)),It=1,zn(Mn))}}function In(t,e,n){var r=new pe;return e=e==null?0:+e,r.restart(i=>{r.stop(),t(i+e)},e,n),r}var wo=Ce("start","end","cancel","interrupt"),xo=[],Pn=0,kn=1,Fe=2,_e=3,Dn=4,Ye=5,ge=6;function ve(t,e,n,r,i,a){var o=t.__transition;if(!o)t.__transition={};else if(n in o)return;bo(t,n,{name:e,index:r,group:i,on:wo,tween:xo,time:a.time,delay:a.delay,duration:a.duration,ease:a.ease,timer:null,state:Pn})}function Xe(t,e){var n=ht(t,e);if(n.state>Pn)throw new Error("too late; already scheduled");return n}function _t(t,e){var n=ht(t,e);if(n.state>_e)throw new Error("too late; already running");return n}function ht(t,e){var n=t.__transition;if(!n||!(n=n[e]))throw new Error("transition not found");return n}function bo(t,e,n){var r=t.__transition,i;r[e]=n,n.timer=An(a,0,n.time);function a(f){n.state=kn,n.timer.restart(o,n.delay,n.time),n.delay<=f&&o(f-n.delay)}function o(f){var c,_,m,x;if(n.state!==kn)return l();for(c in r)if(x=r[c],x.name===n.name){if(x.state===_e)return In(o);x.state===Dn?(x.state=ge,x.timer.stop(),x.on.call("interrupt",t,t.__data__,x.index,x.group),delete r[c]):+c<e&&(x.state=ge,x.timer.stop(),x.on.call("cancel",t,t.__data__,x.index,x.group),delete r[c])}if(In(function(){n.state===_e&&(n.state=Dn,n.timer.restart(u,n.delay,n.time),u(f))}),n.state=Fe,n.on.call("start",t,t.__data__,n.index,n.group),n.state===Fe){for(n.state=_e,i=new Array(m=n.tween.length),c=0,_=-1;c<m;++c)(x=n.tween[c].value.call(t,t.__data__,n.index,n.group))&&(i[++_]=x);i.length=_+1}}function u(f){for(var c=f<n.duration?n.ease.call(null,f/n.duration):(n.timer.restart(l),n.state=Ye,1),_=-1,m=i.length;++_<m;)i[_].call(t,c);n.state===Ye&&(n.on.call("end",t,t.__data__,n.index,n.group),l())}function l(){n.state=ge,n.timer.stop(),delete r[e];for(var f in r)return;delete t.__transition}}function me(t,e){var n=t.__transition,r,i,a=!0,o;if(n){e=e==null?null:e+"";for(o in n){if((r=n[o]).name!==e){a=!1;continue}i=r.state>Fe&&r.state<Ye,r.state=ge,r.timer.stop(),r.on.call(i?"interrupt":"cancel",t,t.__data__,r.index,r.group),delete n[o]}a&&delete t.__transition}}function Eo(t){return this.each(function(){me(this,t)})}function So(t,e){var n,r;return function(){var i=_t(this,t),a=i.tween;if(a!==n){r=n=a;for(var o=0,u=r.length;o<u;++o)if(r[o].name===e){r=r.slice(),r.splice(o,1);break}}i.tween=r}}function Ro(t,e,n){var r,i;if(typeof n!="function")throw new Error;return function(){var a=_t(this,t),o=a.tween;if(o!==r){i=(r=o).slice();for(var u={name:e,value:n},l=0,f=i.length;l<f;++l)if(i[l].name===e){i[l]=u;break}l===f&&i.push(u)}a.tween=i}}function To(t,e){var n=this._id;if(t+="",arguments.length<2){for(var r=ht(this.node(),n).tween,i=0,a=r.length,o;i<a;++i)if((o=r[i]).name===t)return o.value;return null}return this.each((e==null?So:Ro)(n,t,e))}function He(t,e,n){var r=t._id;return t.each(function(){var i=_t(this,r);(i.value||(i.value={}))[e]=n.apply(this,arguments)}),function(i){return ht(i,r).value[e]}}function Ln(t,e){var n;return(typeof e=="number"?Rt:e instanceof $t?Sn:(n=$t(e))?(e=n,Sn):ao)(t,e)}function Co(t){return function(){this.removeAttribute(t)}}function Oo(t){return function(){this.removeAttributeNS(t.space,t.local)}}function No(t,e,n){var r,i=n+"",a;return function(){var o=this.getAttribute(t);return o===i?null:o===r?a:a=e(r=o,n)}}function zo(t,e,n){var r,i=n+"",a;return function(){var o=this.getAttributeNS(t.space,t.local);return o===i?null:o===r?a:a=e(r=o,n)}}function Ao(t,e,n){var r,i,a;return function(){var o,u=n(this),l;return u==null?void this.removeAttribute(t):(o=this.getAttribute(t),l=u+"",o===l?null:o===r&&l===i?a:(i=l,a=e(r=o,u)))}}function Mo(t,e,n){var r,i,a;return function(){var o,u=n(this),l;return u==null?void this.removeAttributeNS(t.space,t.local):(o=this.getAttributeNS(t.space,t.local),l=u+"",o===l?null:o===r&&l===i?a:(i=l,a=e(r=o,u)))}}function Io(t,e){var n=re(t),r=n==="transform"?lo:Ln;return this.attrTween(t,typeof e=="function"?(n.local?Mo:Ao)(n,r,He(this,"attr."+t,e)):e==null?(n.local?Oo:Co)(n):(n.local?zo:No)(n,r,e))}function Po(t,e){return function(n){this.setAttribute(t,e.call(this,n))}}function ko(t,e){return function(n){this.setAttributeNS(t.space,t.local,e.call(this,n))}}function Do(t,e){var n,r;function i(){var a=e.apply(this,arguments);return a!==r&&(n=(r=a)&&ko(t,a)),n}return i._value=e,i}function Lo(t,e){var n,r;function i(){var a=e.apply(this,arguments);return a!==r&&(n=(r=a)&&Po(t,a)),n}return i._value=e,i}function Fo(t,e){var n="attr."+t;if(arguments.length<2)return(n=this.tween(n))&&n._value;if(e==null)return this.tween(n,null);if(typeof e!="function")throw new Error;var r=re(t);return this.tween(n,(r.local?Do:Lo)(r,e))}function Yo(t,e){return function(){Xe(this,t).delay=+e.apply(this,arguments)}}function Xo(t,e){return e=+e,function(){Xe(this,t).delay=e}}function Ho(t){var e=this._id;return arguments.length?this.each((typeof t=="function"?Yo:Xo)(e,t)):ht(this.node(),e).delay}function Uo(t,e){return function(){_t(this,t).duration=+e.apply(this,arguments)}}function Vo(t,e){return e=+e,function(){_t(this,t).duration=e}}function Wo(t){var e=this._id;return arguments.length?this.each((typeof t=="function"?Uo:Vo)(e,t)):ht(this.node(),e).duration}function $o(t,e){if(typeof e!="function")throw new Error;return function(){_t(this,t).ease=e}}function jo(t){var e=this._id;return arguments.length?this.each($o(e,t)):ht(this.node(),e).ease}function Go(t,e){return function(){var n=e.apply(this,arguments);if(typeof n!="function")throw new Error;_t(this,t).ease=n}}function Ko(t){if(typeof t!="function")throw new Error;return this.each(Go(this._id,t))}function Bo(t){typeof t!="function"&&(t=tn(t));for(var e=this._groups,n=e.length,r=new Array(n),i=0;i<n;++i)for(var a=e[i],o=a.length,u=r[i]=[],l,f=0;f<o;++f)(l=a[f])&&t.call(l,l.__data__,f,a)&&u.push(l);return new gt(r,this._parents,this._name,this._id)}function Zo(t){if(t._id!==this._id)throw new Error;for(var e=this._groups,n=t._groups,r=e.length,i=n.length,a=Math.min(r,i),o=new Array(r),u=0;u<a;++u)for(var l=e[u],f=n[u],c=l.length,_=o[u]=new Array(c),m,x=0;x<c;++x)(m=l[x]||f[x])&&(_[x]=m);for(;u<r;++u)o[u]=e[u];return new gt(o,this._parents,this._name,this._id)}function Jo(t){return(t+"").trim().split(/^|\s+/).every(function(e){var n=e.indexOf(".");return n>=0&&(e=e.slice(0,n)),!e||e==="start"})}function qo(t,e,n){var r,i,a=Jo(e)?Xe:_t;return function(){var o=a(this,t),u=o.on;u!==r&&(i=(r=u).copy()).on(e,n),o.on=i}}function Qo(t,e){var n=this._id;return arguments.length<2?ht(this.node(),n).on.on(t):this.each(qo(n,t,e))}function ta(t){return function(){var e=this.parentNode;for(var n in this.__transition)if(+n!==t)return;e&&e.removeChild(this)}}function ea(){return this.on("end.remove",ta(this._id))}function na(t){var e=this._name,n=this._id;typeof t!="function"&&(t=Re(t));for(var r=this._groups,i=r.length,a=new Array(i),o=0;o<i;++o)for(var u=r[o],l=u.length,f=a[o]=new Array(l),c,_,m=0;m<l;++m)(c=u[m])&&(_=t.call(c,c.__data__,m,u))&&("__data__"in c&&(_.__data__=c.__data__),f[m]=_,ve(f[m],e,n,m,f,ht(c,n)));return new gt(a,this._parents,e,n)}function ra(t){var e=this._name,n=this._id;typeof t!="function"&&(t=Qe(t));for(var r=this._groups,i=r.length,a=[],o=[],u=0;u<i;++u)for(var l=r[u],f=l.length,c,_=0;_<f;++_)if(c=l[_]){for(var m=t.call(c,c.__data__,_,l),x,T=ht(c,n),R=0,I=m.length;R<I;++R)(x=m[R])&&ve(x,e,n,R,m,T);a.push(m),o.push(c)}return new gt(a,o,e,n)}var ia=Ht.prototype.constructor;function oa(){return new ia(this._groups,this._parents)}function aa(t,e){var n,r,i;return function(){var a=At(this,t),o=(this.style.removeProperty(t),At(this,t));return a===o?null:a===n&&o===r?i:i=e(n=a,r=o)}}function Fn(t){return function(){this.style.removeProperty(t)}}function sa(t,e,n){var r,i=n+"",a;return function(){var o=At(this,t);return o===i?null:o===r?a:a=e(r=o,n)}}function ua(t,e,n){var r,i,a;return function(){var o=At(this,t),u=n(this),l=u+"";return u==null&&(l=u=(this.style.removeProperty(t),At(this,t))),o===l?null:o===r&&l===i?a:(i=l,a=e(r=o,u))}}function ca(t,e){var n,r,i,a="style."+e,o="end."+a,u;return function(){var l=_t(this,t),f=l.on,c=l.value[a]==null?u||(u=Fn(e)):void 0;(f!==n||i!==c)&&(r=(n=f).copy()).on(o,i=c),l.on=r}}function la(t,e,n){var r=(t+="")=="transform"?co:Ln;return e==null?this.styleTween(t,aa(t,r)).on("end.style."+t,Fn(t)):typeof e=="function"?this.styleTween(t,ua(t,r,He(this,"style."+t,e))).each(ca(this._id,t)):this.styleTween(t,sa(t,r,e),n).on("end.style."+t,null)}function fa(t,e,n){return function(r){this.style.setProperty(t,e.call(this,r),n)}}function ha(t,e,n){var r,i;function a(){var o=e.apply(this,arguments);return o!==i&&(r=(i=o)&&fa(t,o,n)),r}return a._value=e,a}function da(t,e,n){var r="style."+(t+="");if(arguments.length<2)return(r=this.tween(r))&&r._value;if(e==null)return this.tween(r,null);if(typeof e!="function")throw new Error;return this.tween(r,ha(t,e,n??""))}function pa(t){return function(){this.textContent=t}}function _a(t){return function(){var e=t(this);this.textContent=e??""}}function ga(t){return this.tween("text",typeof t=="function"?_a(He(this,"text",t)):pa(t==null?"":t+""))}function va(t){return function(e){this.textContent=t.call(this,e)}}function ma(t){var e,n;function r(){var i=t.apply(this,arguments);return i!==n&&(e=(n=i)&&va(i)),e}return r._value=t,r}function ya(t){var e="text";if(arguments.length<1)return(e=this.tween(e))&&e._value;if(t==null)return this.tween(e,null);if(typeof t!="function")throw new Error;return this.tween(e,ma(t))}function wa(){for(var t=this._name,e=this._id,n=Yn(),r=this._groups,i=r.length,a=0;a<i;++a)for(var o=r[a],u=o.length,l,f=0;f<u;++f)if(l=o[f]){var c=ht(l,e);ve(l,t,n,f,o,{time:c.time+c.delay+c.duration,delay:0,duration:c.duration,ease:c.ease})}return new gt(r,this._parents,t,n)}function xa(){var t,e,n=this,r=n._id,i=n.size();return new Promise(function(a,o){var u={value:o},l={value:function(){--i===0&&a()}};n.each(function(){var f=_t(this,r),c=f.on;c!==t&&(e=(t=c).copy(),e._.cancel.push(u),e._.interrupt.push(u),e._.end.push(l)),f.on=e}),i===0&&a()})}var ba=0;function gt(t,e,n,r){this._groups=t,this._parents=e,this._name=n,this._id=r}function Yn(){return++ba}var vt=Ht.prototype;gt.prototype={constructor:gt,select:na,selectAll:ra,selectChild:vt.selectChild,selectChildren:vt.selectChildren,filter:Bo,merge:Zo,selection:oa,transition:wa,call:vt.call,nodes:vt.nodes,node:vt.node,size:vt.size,empty:vt.empty,each:vt.each,on:Qo,attr:Io,attrTween:Fo,style:la,styleTween:da,text:ga,textTween:ya,remove:ea,tween:To,delay:Ho,duration:Wo,ease:jo,easeVarying:Ko,end:xa,[Symbol.iterator]:vt[Symbol.iterator]};function Ea(t){return((t*=2)<=1?t*t*t:(t-=2)*t*t+2)/2}var Sa={time:null,delay:0,duration:250,ease:Ea};function Ra(t,e){for(var n;!(n=t.__transition)||!(n=n[e]);)if(!(t=t.parentNode))throw new Error(`transition ${e} not found`);return n}function Ta(t){var e,n;t instanceof gt?(e=t._id,t=t._name):(e=Yn(),(n=Sa).time=De(),t=t==null?null:t+"");for(var r=this._groups,i=r.length,a=0;a<i;++a)for(var o=r[a],u=o.length,l,f=0;f<u;++f)(l=o[f])&&ve(l,t,e,f,o,n||Ra(l,e));return new gt(r,this._parents,t,e)}Ht.prototype.interrupt=Eo,Ht.prototype.transition=Ta;const ye=t=>()=>t;function Ca(t,{sourceEvent:e,target:n,transform:r,dispatch:i}){Object.defineProperties(this,{type:{value:t,enumerable:!0,configurable:!0},sourceEvent:{value:e,enumerable:!0,configurable:!0},target:{value:n,enumerable:!0,configurable:!0},transform:{value:r,enumerable:!0,configurable:!0},_:{value:i}})}function mt(t,e,n){this.k=t,this.x=e,this.y=n}mt.prototype={constructor:mt,scale:function(t){return t===1?this:new mt(this.k*t,this.x,this.y)},translate:function(t,e){return t===0&e===0?this:new mt(this.k,this.x+this.k*t,this.y+this.k*e)},apply:function(t){return[t[0]*this.k+this.x,t[1]*this.k+this.y]},applyX:function(t){return t*this.k+this.x},applyY:function(t){return t*this.k+this.y},invert:function(t){return[(t[0]-this.x)/this.k,(t[1]-this.y)/this.k]},invertX:function(t){return(t-this.x)/this.k},invertY:function(t){return(t-this.y)/this.k},rescaleX:function(t){return t.copy().domain(t.range().map(this.invertX,this).map(t.invert,t))},rescaleY:function(t){return t.copy().domain(t.range().map(this.invertY,this).map(t.invert,t))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}};var Zt=new mt(1,0,0);mt.prototype;function Ue(t){t.stopImmediatePropagation()}function Jt(t){t.preventDefault(),t.stopImmediatePropagation()}function Oa(t){return(!t.ctrlKey||t.type==="wheel")&&!t.button}function Na(){var t=this;return t instanceof SVGElement?(t=t.ownerSVGElement||t,t.hasAttribute("viewBox")?(t=t.viewBox.baseVal,[[t.x,t.y],[t.x+t.width,t.y+t.height]]):[[0,0],[t.width.baseVal.value,t.height.baseVal.value]]):[[0,0],[t.clientWidth,t.clientHeight]]}function Xn(){return this.__zoom||Zt}function za(t){return-t.deltaY*(t.deltaMode===1?.05:t.deltaMode?1:.002)*(t.ctrlKey?10:1)}function Aa(){return navigator.maxTouchPoints||"ontouchstart"in this}function Ma(t,e,n){var r=t.invertX(e[0][0])-n[0][0],i=t.invertX(e[1][0])-n[1][0],a=t.invertY(e[0][1])-n[0][1],o=t.invertY(e[1][1])-n[1][1];return t.translate(i>r?(r+i)/2:Math.min(0,r)||Math.max(0,i),o>a?(a+o)/2:Math.min(0,a)||Math.max(0,o))}function Hn(){var t=Oa,e=Na,n=Ma,r=za,i=Aa,a=[0,1/0],o=[[-1/0,-1/0],[1/0,1/0]],u=250,l=_o,f=Ce("start","zoom","end"),c,_,m,x=500,T=150,R=0,I=10;function b(h){h.property("__zoom",Xn).on("wheel.zoom",Y,{passive:!1}).on("mousedown.zoom",$).on("dblclick.zoom",Q).filter(i).on("touchstart.zoom",ut).on("touchmove.zoom",et).on("touchend.zoom touchcancel.zoom",rt).style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}b.transform=function(h,v,d,p){var y=h.selection?h.selection():h;y.property("__zoom",Xn),h!==y?X(h,v,d,p):y.interrupt().each(function(){H(this,arguments).event(p).start().zoom(null,typeof v=="function"?v.apply(this,arguments):v).end()})},b.scaleBy=function(h,v,d,p){b.scaleTo(h,function(){var y=this.__zoom.k,E=typeof v=="function"?v.apply(this,arguments):v;return y*E},d,p)},b.scaleTo=function(h,v,d,p){b.transform(h,function(){var y=e.apply(this,arguments),E=this.__zoom,S=d==null?F(y):typeof d=="function"?d.apply(this,arguments):d,N=E.invert(S),O=typeof v=="function"?v.apply(this,arguments):v;return n(W(A(E,O),S,N),y,o)},d,p)},b.translateBy=function(h,v,d,p){b.transform(h,function(){return n(this.__zoom.translate(typeof v=="function"?v.apply(this,arguments):v,typeof d=="function"?d.apply(this,arguments):d),e.apply(this,arguments),o)},null,p)},b.translateTo=function(h,v,d,p,y){b.transform(h,function(){var E=e.apply(this,arguments),S=this.__zoom,N=p==null?F(E):typeof p=="function"?p.apply(this,arguments):p;return n(Zt.translate(N[0],N[1]).scale(S.k).translate(typeof v=="function"?-v.apply(this,arguments):-v,typeof d=="function"?-d.apply(this,arguments):-d),E,o)},p,y)};function A(h,v){return v=Math.max(a[0],Math.min(a[1],v)),v===h.k?h:new mt(v,h.x,h.y)}function W(h,v,d){var p=v[0]-d[0]*h.k,y=v[1]-d[1]*h.k;return p===h.x&&y===h.y?h:new mt(h.k,p,y)}function F(h){return[(+h[0][0]+ +h[1][0])/2,(+h[0][1]+ +h[1][1])/2]}function X(h,v,d,p){h.on("start.zoom",function(){H(this,arguments).event(p).start()}).on("interrupt.zoom end.zoom",function(){H(this,arguments).event(p).end()}).tween("zoom",function(){var y=this,E=arguments,S=H(y,E).event(p),N=e.apply(y,E),O=d==null?F(N):typeof d=="function"?d.apply(y,E):d,V=Math.max(N[1][0]-N[0][0],N[1][1]-N[0][1]),k=y.__zoom,G=typeof v=="function"?v.apply(y,E):v,K=l(k.invert(O).concat(V/k.k),G.invert(O).concat(V/G.k));return function(q){if(q===1)q=G;else{var Z=K(q),ct=V/Z[2];q=new mt(ct,O[0]-Z[0]*ct,O[1]-Z[1]*ct)}S.zoom(null,q)}})}function H(h,v,d){return!d&&h.__zooming||new L(h,v)}function L(h,v){this.that=h,this.args=v,this.active=0,this.sourceEvent=null,this.extent=e.apply(h,v),this.taps=0}L.prototype={event:function(h){return h&&(this.sourceEvent=h),this},start:function(){return++this.active===1&&(this.that.__zooming=this,this.emit("start")),this},zoom:function(h,v){return this.mouse&&h!=="mouse"&&(this.mouse[1]=v.invert(this.mouse[0])),this.touch0&&h!=="touch"&&(this.touch0[1]=v.invert(this.touch0[0])),this.touch1&&h!=="touch"&&(this.touch1[1]=v.invert(this.touch1[0])),this.that.__zoom=v,this.emit("zoom"),this},end:function(){return--this.active===0&&(delete this.that.__zooming,this.emit("end")),this},emit:function(h){var v=nt(this.that).datum();f.call(h,this.that,new Ca(h,{sourceEvent:this.sourceEvent,target:b,type:h,transform:this.that.__zoom,dispatch:f}),v)}};function Y(h,...v){if(!t.apply(this,arguments))return;var d=H(this,v).event(h),p=this.__zoom,y=Math.max(a[0],Math.min(a[1],p.k*Math.pow(2,r.apply(this,arguments)))),E=St(h);if(d.wheel)(d.mouse[0][0]!==E[0]||d.mouse[0][1]!==E[1])&&(d.mouse[1]=p.invert(d.mouse[0]=E)),clearTimeout(d.wheel);else{if(p.k===y)return;d.mouse=[E,p.invert(E)],me(this),d.start()}Jt(h),d.wheel=setTimeout(S,T),d.zoom("mouse",n(W(A(p,y),d.mouse[0],d.mouse[1]),d.extent,o));function S(){d.wheel=null,d.end()}}function $(h,...v){if(m||!t.apply(this,arguments))return;var d=h.currentTarget,p=H(this,v,!0).event(h),y=nt(h.view).on("mousemove.zoom",O,!0).on("mouseup.zoom",V,!0),E=St(h,d),S=h.clientX,N=h.clientY;Hi(h.view),Ue(h),p.mouse=[E,this.__zoom.invert(E)],me(this),p.start();function O(k){if(Jt(k),!p.moved){var G=k.clientX-S,K=k.clientY-N;p.moved=G*G+K*K>R}p.event(k).zoom("mouse",n(W(p.that.__zoom,p.mouse[0]=St(k,d),p.mouse[1]),p.extent,o))}function V(k){y.on("mousemove.zoom mouseup.zoom",null),Ui(k.view,p.moved),Jt(k),p.event(k).end()}}function Q(h,...v){if(t.apply(this,arguments)){var d=this.__zoom,p=St(h.changedTouches?h.changedTouches[0]:h,this),y=d.invert(p),E=d.k*(h.shiftKey?.5:2),S=n(W(A(d,E),p,y),e.apply(this,v),o);Jt(h),u>0?nt(this).transition().duration(u).call(X,S,p,h):nt(this).call(b.transform,S,p,h)}}function ut(h,...v){if(t.apply(this,arguments)){var d=h.touches,p=d.length,y=H(this,v,h.changedTouches.length===p).event(h),E,S,N,O;for(Ue(h),S=0;S<p;++S)N=d[S],O=St(N,this),O=[O,this.__zoom.invert(O),N.identifier],y.touch0?!y.touch1&&y.touch0[2]!==O[2]&&(y.touch1=O,y.taps=0):(y.touch0=O,E=!0,y.taps=1+!!c);c&&(c=clearTimeout(c)),E&&(y.taps<2&&(_=O[0],c=setTimeout(function(){c=null},x)),me(this),y.start())}}function et(h,...v){if(this.__zooming){var d=H(this,v).event(h),p=h.changedTouches,y=p.length,E,S,N,O;for(Jt(h),E=0;E<y;++E)S=p[E],N=St(S,this),d.touch0&&d.touch0[2]===S.identifier?d.touch0[0]=N:d.touch1&&d.touch1[2]===S.identifier&&(d.touch1[0]=N);if(S=d.that.__zoom,d.touch1){var V=d.touch0[0],k=d.touch0[1],G=d.touch1[0],K=d.touch1[1],q=(q=G[0]-V[0])*q+(q=G[1]-V[1])*q,Z=(Z=K[0]-k[0])*Z+(Z=K[1]-k[1])*Z;S=A(S,Math.sqrt(q/Z)),N=[(V[0]+G[0])/2,(V[1]+G[1])/2],O=[(k[0]+K[0])/2,(k[1]+K[1])/2]}else if(d.touch0)N=d.touch0[0],O=d.touch0[1];else return;d.zoom("touch",n(W(S,N,O),d.extent,o))}}function rt(h,...v){if(this.__zooming){var d=H(this,v).event(h),p=h.changedTouches,y=p.length,E,S;for(Ue(h),m&&clearTimeout(m),m=setTimeout(function(){m=null},x),E=0;E<y;++E)S=p[E],d.touch0&&d.touch0[2]===S.identifier?delete d.touch0:d.touch1&&d.touch1[2]===S.identifier&&delete d.touch1;if(d.touch1&&!d.touch0&&(d.touch0=d.touch1,delete d.touch1),d.touch0)d.touch0[1]=this.__zoom.invert(d.touch0[0]);else if(d.end(),d.taps===2&&(S=St(S,this),Math.hypot(_[0]-S[0],_[1]-S[1])<I)){var N=nt(this).on("dblclick.zoom");N&&N.apply(this,arguments)}}}return b.wheelDelta=function(h){return arguments.length?(r=typeof h=="function"?h:ye(+h),b):r},b.filter=function(h){return arguments.length?(t=typeof h=="function"?h:ye(!!h),b):t},b.touchable=function(h){return arguments.length?(i=typeof h=="function"?h:ye(!!h),b):i},b.extent=function(h){return arguments.length?(e=typeof h=="function"?h:ye([[+h[0][0],+h[0][1]],[+h[1][0],+h[1][1]]]),b):e},b.scaleExtent=function(h){return arguments.length?(a[0]=+h[0],a[1]=+h[1],b):[a[0],a[1]]},b.translateExtent=function(h){return arguments.length?(o[0][0]=+h[0][0],o[1][0]=+h[1][0],o[0][1]=+h[0][1],o[1][1]=+h[1][1],b):[[o[0][0],o[0][1]],[o[1][0],o[1][1]]]},b.constrain=function(h){return arguments.length?(n=h,b):n},b.duration=function(h){return arguments.length?(u=+h,b):u},b.interpolate=function(h){return arguments.length?(l=h,b):l},b.on=function(){var h=f.on.apply(f,arguments);return h===f?b:h},b.clickDistance=function(h){return arguments.length?(R=(h=+h)*h,b):Math.sqrt(R)},b.tapDistance=function(h){return arguments.length?(I=+h,b):I},b}const tt={DEFAULT_MIN_ZOOM:.1,DEFAULT_MAX_ZOOM:4,FIT_TO_VIEW_MAX_ZOOM:1,ZOOM_RATIO:.5,TIME_FRAME:500,INITIAL_POSITION_X:0,INITIAL_POSITION_Y:0,SCROLL_POS_RATIO:3,LAYOUT_FALLBACK:500,DEFAULT_LAYOUT:1e6,INITIAL_SCROLLBAR_SIZE:50,MIN_SCROLLBAR_SIZE:15,SCROLL_DELTA_DIFF:1.5,NODE_Y_OFFSET:110},qt={TOP_LEFT:"top-left",TOP_RIGHT:"top-right",BOTTOM_LEFT:"bottom-left",BOTTOM_CENTER:"bottom-center"},st={...qt,TOP_CENTER:"top-center",BOTTOM_RIGHT:"bottom-right",CENTER_LEFT:"center-left",CENTER_RIGHT:"center-right",CENTER_CENTER:"center-center"},Qt=({value:t,min:e=0,max:n})=>Math.min(Math.max(t,e),n),Ia=({position:t,svgBounds:e,nodeBounds:n,currentTranslateX:r,currentTranslateY:i,currentScale:a,updatedScale:o,customOffset:u})=>{let[l,f,c]=[0,0,1];switch(o!==a&&(c=o/a,r*=c,i*=c),t){case st.TOP_LEFT:return{updatedX:r+((e.x-n.x)*c+u.x),updatedY:i+((e.y-n.y)*c+u.y)};case st.TOP_CENTER:return l=e.width/2-(n.x*c+n.width*c/2)+e.x,{updatedX:r+l+u.x,updatedY:i+((e.y-n.y)*c+u.y)};case st.TOP_RIGHT:return{updatedX:r+(e.width-(Math.abs(e.x-n.x*c)+n.width*c))+u.x,updatedY:i+((e.y-n.y)*c+u.y)};case st.CENTER_LEFT:return f=e.height/2-(Math.abs(e.y-n.y)*c+n.height*c/2),{updatedX:r+((e.x-n.x)*c+u.x),updatedY:i+f+u.y};case st.CENTER_CENTER:return l=e.width/2-(Math.abs(e.x-n.x)*c+n.width*c/2),f=e.height/2-(Math.abs(e.y-n.y)*c+n.height*c/2),{updatedX:r+l+u.x,updatedY:i+f+u.y};case st.CENTER_RIGHT:return f=e.height/2-(Math.abs(e.y-n.y)*c+n.height*c/2),{updatedX:r+(e.width-(Math.abs(e.x-n.x)*c+n.width*c))+u.x,updatedY:i+f+u.y};case st.BOTTOM_LEFT:return{updatedX:r+((e.x-n.x)*c+u.x),updatedY:i+(e.height-(Math.abs(e.y-n.y)*c+n.height*c))+u.y};case st.BOTTOM_CENTER:return l=e.width/2-(Math.abs(e.x-n.x)*c+n.width*c/2),{updatedX:r+l+u.x,updatedY:i+(e.height-(Math.abs(e.y-n.y)*c+n.height*c))+u.y};case st.BOTTOM_RIGHT:return{updatedX:r+(e.width-(Math.abs(e.x-n.x)*c+n.width*c))+u.x,updatedY:i+(e.height-(Math.abs(e.y-n.y)*c+n.height))+u.y};default:return{updatedX:r,updatedY:i}}},Un=t=>{const[e,n]=[Math.max(t-.2,.2),t];return[tt.INITIAL_SCROLLBAR_SIZE/e,tt.INITIAL_SCROLLBAR_SIZE/n]},Pa=({isVertical:t,state:e,scrollDelta:n})=>{const r=t?e.verticalPos:e.horizontalPos,i=t?e.verticalSize:e.horizontalSize,a=t?e.verticalSizeDecrease:e.horizontalSizeDecrease,o=t?n.deltaY:n.deltaX;return{scrollPos:r,scrollSize:i,scrollSizeDecrease:a,deltaValue:o}},Vn=({isVertical:t=!0,state:e,scrollDelta:n,scrollLength:r})=>{const{scrollPos:i,scrollSize:a,scrollSizeDecrease:o,deltaValue:u}=Pa({isVertical:t,state:e,scrollDelta:n}),l=u/10||0,f=u/100||0;let[c,_]=[i+l,o];if(c<1)c=0,_-=Math.abs(f);else if(c+a>r){const m=r-Math.max(tt.MIN_SCROLLBAR_SIZE,a-Math.abs(_));c=Math.min(r-(a+_),m),_-=f}else if(_!==0){const m=c>r/2;c=m?r-a:0,m?(_-=f,_<=0&&(_=0)):(_+=Math.abs(f),_>=0&&(_=0))}return[c,_]},ka={dotSvgContainer:"_dotSvgContainer_64xbd_1"},Wn=({id:t="",size:e=1,minSize:n=.3,maxZoom:r=4,gap:i=20,zoomTransform:a={scale:1,translateX:0,translateY:0},className:o="",minOpacity:u=.8,maxOpacity:l=1,elementColor:f="#afb7c7"})=>{const{scale:c,translateX:_,translateY:m}=a,x=Qt({value:c*10/(r*10),min:u,max:l}),T=i*c,R=e*c,I=Math.max(n,R),b=`patternId-${t}`;return j.jsxs("svg",{className:`${o} ${ka.dotSvgContainer}`,children:[j.jsx("pattern",{id:b,x:_%T,y:m%T,width:T,height:T,patternUnits:"userSpaceOnUse",patternTransform:`translate(-${R},-${R})`,children:j.jsx("circle",{cx:I,cy:I,r:I,fill:f,opacity:x})}),j.jsx("rect",{x:"0",y:"0",width:"100%",height:"100%",fill:`url(#${b})`})]})},Nt={container:"_container_1xxyl_1",canvasWrapper:"_canvasWrapper_1xxyl_8",panning:"_panning_1xxyl_21",canvas:"_canvas_1xxyl_8",contentWrapper:"_contentWrapper_1xxyl_39"},$n={verticalScrollBar:"_verticalScrollBar_17thb_1",horizontalScrollBar:"_horizontalScrollBar_17thb_9"},Da=z.forwardRef(({scale:t,startingPosition:e,offset:n={x:0,y:0},color:r="gray",thickness:i="8px",minSize:a="15px",verticalOffsetHeight:o,horizontalOffsetWidth:u,onScrollDeltaHandler:l,getContainerOffset:f},c)=>{const[_,m]=Un(t),x=z.useRef(null),T=z.useRef(null),R=z.useRef({isDragging:!1,vertical:!0,initialOffset:0}),[I,b]=z.useState({scale:t,horizontalSize:m,horizontalPos:e?e.x:(u??0)/tt.SCROLL_POS_RATIO,horizontalSizeDecrease:0,verticalSize:_,verticalPos:e?e.y:(o??0)/tt.SCROLL_POS_RATIO,verticalSizeDecrease:0});z.useImperativeHandle(c,()=>({resetScrollPos:()=>{b(L=>({...L,horizontalPos:(u??0)/tt.SCROLL_POS_RATIO,verticalPos:(o??0)/tt.SCROLL_POS_RATIO,verticalSizeDecrease:0,horizontalSizeDecrease:0}))},onScrollDeltaChangeHandler:A,onMouseUp:F})),z.useEffect(function(){b(Y=>{let $;const[Q,ut]=Un(t),et=t/Y.scale||0;return t<Y.scale?$={horizontalPos:Y.horizontalPos-et,verticalPos:Y.verticalPos-et}:$={horizontalPos:Y.horizontalPos+et,verticalPos:Y.verticalPos+et},{...Y,scale:t,horizontalSize:ut,verticalSize:Q,...$}})},[t]);function A(L){R.current.isDragging||b(Y=>{const[$,Q]=Vn({state:Y,scrollDelta:L,scrollLength:o}),[ut,et]=Vn({isVertical:!1,state:Y,scrollDelta:L,scrollLength:u});return{...Y,horizontalPos:ut,horizontalSizeDecrease:et,verticalPos:$,verticalSizeDecrease:Q}})}const W=z.useCallback(function(Y,$){if(!R.current.isDragging)return;Y.stopPropagation();const{movementX:Q,movementY:ut,clientX:et,clientY:rt,offsetX:h,offsetY:v}=Y;R.current.initialOffset<1&&(R.current.initialOffset=$?v:h);const d=$?ut:Q,p=($?rt:et)-R.current.initialOffset-f($),y=O=>$?["verticalPos",O.verticalSize,o,n.y]:["horizontalPos",O.horizontalSize,u,n.x];b(O=>{const[V,k,G,K]=y(O);return{...O,[V]:Qt({value:p,min:K,max:G-k})}});const E=()=>{const O=d>0?d+tt.SCROLL_DELTA_DIFF:d-tt.SCROLL_DELTA_DIFF;return $?{deltaX:0,deltaY:O}:{deltaX:O,deltaY:0}},S=($?o:u)-($?I.verticalSize:I.horizontalSize);!(p<=0||p>=S)&&d!==0&&l(E())},[o,u,n.y,n.x]),F=z.useCallback(function(){R.current.isDragging=!1,R.current.initialOffset=0,window.removeEventListener("mousemove",Y=>W(Y,R.current.vertical)),window.removeEventListener("mouseup",F)},[W]),X=z.useCallback(function(){window.addEventListener("mousemove",Y=>W(Y,R.current.vertical)),window.addEventListener("mouseup",F)},[W,F]),H=L=>{L.stopPropagation()};return j.jsxs(z.Fragment,{children:[j.jsx("div",{className:$n.verticalScrollBar,style:{width:i},ref:x,children:j.jsx("div",{"data-id":"vertical-scrollbar",style:{insetBlockStart:`${Qt({value:I.verticalPos,min:n.y,max:o})}px`,height:`${I.verticalSize+I.verticalSizeDecrease}px`,background:r,minHeight:a},onMouseDownCapture:L=>{L.stopPropagation(),R.current={...R.current,isDragging:!0,vertical:!0},X()},onDragEnterCapture:H,onDragCapture:H,onDragEndCapture:H})}),j.jsx("div",{className:$n.horizontalScrollBar,ref:T,style:{height:i},children:j.jsx("div",{"data-id":"horizontal-scrollbar",style:{insetInlineStart:`${Qt({value:I.horizontalPos,min:n.x,max:u})}px`,width:`${I.horizontalSize+I.horizontalSizeDecrease}px`,background:r,minWidth:a},onMouseDownCapture:L=>{L.stopPropagation(),R.current={...R.current,isDragging:!0,vertical:!1},X()},onDragEnterCapture:H,onDragCapture:H,onDragEndCapture:H})})]})});let we=!1;typeof navigator<"u"&&(we=/^((?!chrome|android).)*safari/i.test(navigator.userAgent));const Ve=we?600:300,La=z.forwardRef(({children:t,...e},n)=>{const r=z.useRef(null);return j.jsx(Fa,{innerRef:n,...e,children:j.jsx("div",{ref:r,style:{width:"max-content",height:"max-content"},children:t})})}),Fa=z.memo(({children:t,innerRef:e,minZoom:n=tt.DEFAULT_MIN_ZOOM,maxZoom:r=tt.DEFAULT_MAX_ZOOM,panOnScroll:i=!0,customComponents:a=[],renderScrollBar:o=!0,scrollBarConfig:u={},backgroundConfig:l={},onCanvasMount:f=()=>{},onTransform:c=()=>{},disablePanningClasses:_=[]})=>{const m=z.useRef(null),x=z.useRef(null),T=z.useRef(null),R=z.useRef(null),I=z.useRef(null),b=t.ref,A=z.useRef(null),W=z.useRef(null),F=z.useMemo(()=>Hn().scaleExtent([n,r]),[r,n]),X=z.useRef(nt(T.current).call(F)),[H,L]=z.useState({translateX:0,translateY:0,scale:1});z.useImperativeHandle(e,()=>({scrollNodeToCenter:({nodeElement:v,offset:d,scale:p,shouldUpdateMaxScale:y,maxScale:E,transitionDuration:S})=>Q({nodeElement:v,offset:d,scale:p,shouldUpdateMaxScale:y,maxScale:E,transitionDuration:S,position:st.CENTER_CENTER}),scrollNodeHandler:Q,scrollContentHorizontallyCenter:ut,fitContentToView:$,getCanvasState:et})),z.useEffect(()=>{const v=p=>{p.code==="Space"&&(W.current=!0)},d=p=>{p.code==="Space"&&(W.current=!1)};return window.addEventListener("keydown",v),window.addEventListener("keyup",d),()=>{window.removeEventListener("keydown",v),window.removeEventListener("keyup",d)}},[]),z.useEffect(function(){X.current=nt(T.current).call(F);const d=nt(R.current);x.current=m.current?m.current.getBoundingClientRect():{},F.filter(p=>{if(p.type==="mousedown"&&!A.current&&(A.current=!0,rt()),!W.current){let y=p.target;for(;y;){if(_.filter(E=>y==null?void 0:y.classList.contains(E)).length>0)return!1;y=y.parentElement}}return p.ctrlKey||p.type!=="wheel"}).on("zoom",p=>{var V,k;((V=p.sourceEvent)==null?void 0:V.ctrlKey)===!1&&p.type==="zoom"&&((k=m.current)==null||k.classList.add(Nt.panning));const y=p.transform,{x:E,y:S,k:N}=y,O=R.current;L({translateX:E,translateY:S,scale:N}),we&&O?O.style.transform=`translate(${E}px, ${S}px) scale(${N})`:d.attr("transform",y)}),F.on("end",()=>{var p;A.current=!1,(p=m.current)==null||p.classList.remove(Nt.panning)}),f({scrollNodeToCenter:({nodeElement:p,offset:y,scale:E,shouldUpdateMaxScale:S,maxScale:N,transitionDuration:O})=>Q({nodeElement:p,offset:y,scale:E,shouldUpdateMaxScale:S,maxScale:N,transitionDuration:O,position:st.CENTER_CENTER}),scrollNodeHandler:Q,scrollContentHorizontallyCenter:ut,fitContentToView:$,getCanvasState:et})},[]),z.useEffect(()=>{c(H)},[c,H]),X.current.call(Hn).on("wheel.zoom",v=>{var p;v.preventDefault();const d=X.current.property("__zoom").k||1;if(i&&!v.ctrlKey){const y={deltaX:v.deltaX,deltaY:v.deltaY};(p=I.current)==null||p.onScrollDeltaChangeHandler(y),Y(y)}else{const y=d*Math.pow(2,-v.deltaY*.01);F.scaleTo(X.current,y,St(v))}},{passive:!1,capture:!0});const Y=v=>{const d=X.current.property("__zoom").k||1;F.translateBy(X.current,-(v.deltaX/d),-(v.deltaY/d))},$=z.useCallback(function({duration:d=500,offset:p={x:0,y:0},scale:y,maxZoomLimit:E=tt.FIT_TO_VIEW_MAX_ZOOM,disableVerticalCenter:S=!1}){requestIdleCallback(()=>{var be,Dt;if(!b.current)return;const N=nt(T.current),O=b.current.getBoundingClientRect(),V=X.current.property("__zoom").k||1,k=(be=T.current)==null?void 0:be.getBoundingClientRect(),{width:G=0,height:K=0}=k||{},q=1/V,Z=O.width*q,ct=O.height*q,yt=K/ct,Pt=G/Z,wt=y??Qt({value:Math.min(E,Math.min(yt,Pt)),min:n,max:r}),te=G-Z*wt,kt=K-ct*wt,xt=!S&&yt>Pt,bt=te/2,xe=xt?kt/2:0,ee=bt+p.x,zt=xe+p.y,We=Zt.translate(ee,zt).scale(wt);L({translateX:ee,translateY:zt,scale:wt}),(Dt=I.current)==null||Dt.resetScrollPos(),N.transition().duration(d).call(F.transform,We)},{timeout:Ve})},[r,n]),Q=({nodeElement:v,offset:d={x:0,y:0},scale:p,shouldUpdateMaxScale:y=!0,maxScale:E,transitionDuration:S=300,position:N=st.TOP_CENTER})=>{requestIdleCallback(()=>{if(!v)return;const O=X.current.property("__zoom"),{k:V,x:k,y:G}=O,K=nt(T.current),Z=(()=>{const kt=bt=>E?Math.min(E,bt):bt;if(!p)return kt(V);let xt=p;return y&&(xt=Math.max(p,V)),kt(xt)})(),ct=T.current.getBoundingClientRect(),yt=v.getBoundingClientRect(),{updatedX:Pt,updatedY:wt}=Ia({position:N,svgBounds:ct,nodeBounds:yt,currentTranslateX:k,currentTranslateY:G,currentScale:V,updatedScale:Z,customOffset:{x:d.x,y:d.y}}),te=Zt.translate(Pt,wt).scale(Z);K.transition().duration(S).call(F.transform,te)},{timeout:Ve})},ut=({offset:v=0,transitionDuration:d=300})=>{b.current&&requestIdleCallback(()=>{const p=X.current.property("__zoom"),{k:y,y:E}=p,S=nt(T.current),N=T.current.getBoundingClientRect(),O=b.current.getBoundingClientRect(),V=1/y,k=O.width*V,G=(N.width-k*y)/2+v;L({...H,translateX:G});const K=Zt.translate(G,E).scale(y);S.transition().duration(d).call(F.transform,K)},{timeout:Ve})},et=()=>({canvasNode:nt(T.current),zoomNode:nt(R.current),currentPosition:X.current.property("__zoom"),d3Zoom:F}),rt=()=>{const v=document.body;if(v){const d=new MouseEvent("mousedown",{bubbles:!0,cancelable:!0,view:window});v.dispatchEvent(d)}},h=z.useCallback(function(d=!0){const{x:p,y}=x.current;return d?y:p},[]);return j.jsxs("div",{className:Nt.container,children:[j.jsx("div",{ref:m,className:Nt.canvasWrapper,children:we?j.jsx("div",{ref:T,className:Nt.canvas,children:j.jsx("div",{ref:R,children:j.jsx("div",{className:Nt.contentWrapper,children:t})})}):j.jsx("svg",{ref:T,className:Nt.canvas,children:j.jsx("g",{ref:R,children:j.jsx("foreignObject",{x:tt.INITIAL_POSITION_X,y:tt.INITIAL_POSITION_Y,width:tt.DEFAULT_LAYOUT,height:tt.DEFAULT_LAYOUT,children:t})})})}),j.jsx(Wn,{maxZoom:r,zoomTransform:H,...l}),o&&m.current&&j.jsx(Da,{ref:I,scale:H.scale,...u,verticalOffsetHeight:m.current.offsetHeight,horizontalOffsetWidth:m.current.offsetWidth,getContainerOffset:h,onScrollDeltaHandler:Y}),a.map((v,d)=>{const{component:p,position:y=qt.BOTTOM_LEFT,offset:E={x:0,y:0},overlap:S=!0,className:N=""}=v;return j.jsx(Ya,{component:p,position:y,offset:E,overlap:S,zoomState:{...H,minZoom:n,maxZoom:r},className:N},d)})]})}),Ya=({component:t,position:e,offset:n,overlap:r,zoomState:i,className:a})=>{const o=z.useMemo(()=>{const l=Object.values(qt).includes(e)?e:qt.BOTTOM_LEFT,[f,c]=l.split("-");return{[c]:n.x,[f]:n.y}},[e,n]),u=z.cloneElement(t,{zoomState:i});return j.jsx("div",{style:{position:"absolute",...o,zIndex:r?20:1},className:a,children:u})};dt.Background=Wn,dt.COMPONENT_POSITIONS=qt,dt.ReactInfiniteCanvas=La,dt.SCROLL_NODE_POSITIONS=st,Object.defineProperty(dt,Symbol.toStringTag,{value:"Module"})});
